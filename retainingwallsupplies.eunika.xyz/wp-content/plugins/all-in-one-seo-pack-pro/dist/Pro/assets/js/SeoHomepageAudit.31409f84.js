import{G as Y}from"./constants.231c2da8.js";import{p as O,a as w,b as P,v as Q,m as F,u as I}from"./index.1e998b9c.js";import{C as D}from"./Card.3b9cebd5.js";import{u as V}from"./SeoSiteScore.835c94c8.js";import{g as q,a as J}from"./utils.5abe120b.js";import{C as X}from"./Blur.f5469924.js";import{j as Z}from"./helpers.1548cd59.js";import{i as $,_ as ee}from"./iphone-frame.e7be06d4.js";import{C as oe}from"./DonutChart.2a6a4bf7.js";import{C as se}from"./Index.fdbe9e59.js";import{S as te}from"./Book.f5782e8e.js";import{S as re}from"./Lab.8323a464.js";import"./translations.d159963e.js";import{_ as K}from"./_plugin-vue_export-helper.eefbdd86.js";import{l as x,y as A,o as t,d as u,c as b,b as d,e as n,t as p,H as y,G as ne,N as ae,w as S,a as M,m as ie,j as C,v as le,u as e,K as ce,r as ue}from"./runtime-dom.esm-bundler.d8b05b6d.js";import{_ as z,s as G}from"./default-i18n.20001971.js";import{C as me}from"./Tooltip.e34dd010.js";import{d as de}from"./vue-router.21860d65.js";import{C as pe}from"./Tabs.a760886c.js";import{e as _e}from"./Caret.6651fe3d.js";import{S as ge}from"./Refresh.a0b52b84.js";import{a as he}from"./index.42716f2e.js";import"./Slide.53cdbff7.js";import"./Information.5f425594.js";import"./SchemaStore.4e47c783.js";import"./metabox.61ec24b3.js";import"./cleanForSlug.5f70afb0.js";import"./deburr.360ac11a.js";import"./toString.569e8443.js";import"./html.3c982da3.js";import"./contentHasAssets.e1428256.js";import"./_baseSet.bcc51cfa.js";import"./regex.8a6101c0.js";import"./GoogleSearchPreview.4ac05671.js";import"./Url.54b4a307.js";import"./AnimatedNumber.da8dc531.js";import"./numbers.9fc174f3.js";import"./Index.aaacbb96.js";import"./Loading.2c3acbc7.js";import"./ProBadge.e29f5c16.js";const H="all-in-one-seo-pack",ye={setup(R){const{errorObject:i,strings:o}=V({score:x(R.score)});return{analyzerStore:O(),rootStore:w(),composableStrings:o,errorObject:i,links:P,getAssetUrl:Z,iphoneFrame:$}},components:{CoreDonutChart:oe,CoreSiteScore:se,SvgBook:te,SvgDannieLab:re},props:{score:[Number,String],loading:Boolean,description:String,summary:{type:Object,default(){return{}}}},data(){return{strings:Q({yourHomepageScore:z("Your Homepage Score:",H),goodResult:G(z("A very good score is between %1$s%3$d and %4$d%2$s.",H),"<strong>","</strong>",50,75),forBestResults:G(z("For best results, you should strive for %1$s%3$d and above%2$s.",H),"<strong>","</strong>",70),readUltimateSeoGuide:z("Read the Ultimate WordPress SEO Guide",H)},this.composableStrings)}},computed:{sortedParts(){return q({good:this.summary.good,warnings:this.summary.warnings,issues:this.summary.issues,total:this.summary.total})}}},fe={class:"aioseo-seo-analysis"},Se={key:0,class:"seo-analysis-score"},ve={key:1,class:"seo-analysis-description"},be={key:0,class:"seo-analysis-homepage-url"},ke=["href"],Ce=["innerHTML"],ze=["innerHTML"],Te={class:"d-flex"},Ae=["href"],Re={key:2,class:"seo-analysis-mobile-snapshot"},Le={class:"mobile-snapshot-image"},He=["src"],Oe=["src"],xe={key:3,class:"seo-analysis-error"},we={class:"error-title"},Me=["innerHTML"],Ue={class:"error-action-buttons"};function Be(R,i,o,s,r,l){var k,f,L,h,T,U,B,E,N;const _=A("core-site-score"),v=A("core-donut-chart"),g=A("svg-book"),c=A("svg-dannie-lab"),a=A("base-button");return t(),u("div",fe,[s.analyzerStore.analyzeError?d("",!0):(t(),u("div",Se,[o.loading?(t(),b(_,{key:0,loading:!0,score:parseInt(o.score),description:o.description,strokeWidth:1.75},null,8,["score","description"])):(t(),b(v,{key:1,parts:l.sortedParts,total:parseInt(o.score),label:o.description,maxTotal:"100",animatedNumber:!1,"is-label-colored":""},null,8,["parts","total","label"]))])),s.analyzerStore.analyzeError?d("",!0):(t(),u("div",ve,[n("h2",null,p(r.strings.yourHomepageScore),1),(L=(f=(k=s.rootStore)==null?void 0:k.aioseo)==null?void 0:f.urls)!=null&&L.home?(t(),u("span",be,[n("a",{target:"_blank",href:s.rootStore.aioseo.urls.home},p(s.rootStore.aioseo.urls.home),9,ke)])):d("",!0),n("div",{innerHTML:r.strings.goodResult},null,8,Ce),n("div",{innerHTML:r.strings.forBestResults},null,8,ze),n("div",Te,[y(g),n("a",{href:s.links.getDocUrl("ultimateGuide"),target:"_blank"},p(r.strings.readUltimateSeoGuide),9,Ae)])])),!s.analyzerStore.analyzeError&&((U=(T=(h=s.analyzerStore.homeResults)==null?void 0:h.results)==null?void 0:T.advanced)!=null&&U.mobileSnapshot)?(t(),u("div",Re,[n("div",Le,[n("img",{class:"mobile-snapshot-image__frame",src:s.getAssetUrl(s.iphoneFrame),alt:"Mobile Snapshot iPhone Frame"},null,8,He),n("img",{class:"mobile-snapshot-image__content",alt:"Mobile Snapshot",src:(N=(E=(B=s.analyzerStore.homeResults)==null?void 0:B.results)==null?void 0:E.advanced)==null?void 0:N.mobileSnapshot},null,8,Oe)])])):d("",!0),s.analyzerStore.analyzeError&&s.errorObject?(t(),u("div",xe,[y(c),n("p",we,p(r.strings.anErrorOccurred),1),n("p",{class:"error-description",innerHTML:s.errorObject.description},null,8,Me),n("div",Ue,[(t(!0),u(ne,null,ae(s.errorObject.buttons,(m,W)=>(t(),b(a,{key:W,type:m.type,tag:m.tag?m.tag:"button",target:"_blank",href:m.url?m.url:"",size:"medium",loading:(m==null?void 0:m.runAgain)&&s.analyzerStore.analyzing,onClick:Ye=>m!=null&&m.runAgain?s.analyzerStore.runSiteAnalyzer():""},{default:S(()=>[M(p(m.text),1)]),_:2},1032,["type","tag","href","loading","onClick"]))),128))])])):d("",!0)])}const j=K(ye,[["render",Be]]),Ee={class:"aioseo-seo-site-score"},Ne={key:1,class:"aioseo-seo-site-score-cta"},De=["href"],Ge={__name:"Analyze",setup(R){const i=x(0),{description:o,strings:s}=V({score:i}),r=O(),l=F(),_=I(),v=w();ie(()=>{var h;return(h=r.homeResults)==null?void 0:h.score},h=>{i.value=h});const g=C(()=>r.goodCount("homepage")),c=C(()=>r.recommendedCount("homepage")),a=C(()=>r.criticalCount("homepage")),k=C(()=>g.value+c.value+a.value),f=C(()=>({recommended:c.value,critical:a.value,good:g.value})),L=C(()=>q({good:g.value,warnings:c.value,issues:a.value,total:k.value}));return le(()=>{var T;const h=(T=r.homeResults)==null?void 0:T.score;!h&&!l.isUnlicensed&&r.runSiteAnalyzer(),i.value=h}),(h,T)=>(t(),u("div",Ee,[e(l).isUnlicensed&&!e(_).internalOptions.internal.siteAnalysis.connectToken?(t(),b(e(X),{key:0},{default:S(()=>[y(e(j),{score:85,description:e(o)},null,8,["description"])]),_:1})):d("",!0),e(l).isUnlicensed&&!e(_).internalOptions.internal.siteAnalysis.connectToken?(t(),u("div",Ne,[n("a",{href:e(v).aioseo.urls.aio.settings},p(e(s).enterLicenseKey),9,De),M(" "+p(e(s).toSeeYourSiteScore),1)])):d("",!0),!e(l).isUnlicensed||e(_).internalOptions.internal.siteAnalysis.connectToken?(t(),b(e(j),{key:2,score:i.value,description:e(o),loading:e(r).analyzing,summary:f.value,parts:L.value},null,8,["score","description","loading","summary","parts"])):d("",!0)]))}},je={key:0,class:"loading-container"},Pe={key:1},Fe={class:"label"},Ie={key:2},Ve={__name:"HomepageAuditTabList",setup(R){const i="all-in-one-seo-pack",o=O(),s=de(),r=x(!1),l=C(()=>{var k;const c=J({error:o.homeResults.score?o.criticalCount("homepage"):0,warning:o.homeResults.score?o.recommendedCount("homepage"):0,good:o.homeResults.score?o.goodCount("homepage"):0}).filter(f=>0<f.analyze.count),a=(k=s==null?void 0:s.query)==null?void 0:k.tab;return a&&c.find(f=>f.slug===a)?o.changeHomepageAuditTab(a):c.length&&o.changeHomepageAuditTab(c[0].slug),c}),_={noResults:z("No results found.",i)};function v(g){r.value||(r.value=!0,o.changeHomepageAuditTab(g),setTimeout(()=>{r.value=!1},50))}return(g,c)=>e(o).analyzing?(t(),u("div",je,[y(e(_e),{dark:""})])):(t(),u("div",Pe,[l.value.length?(t(),b(e(pe),{key:0,tabs:l.value,showSaveButton:!1,active:e(o).homepageAudit.activeTab,internal:"",onChanged:v,"skinny-tabs":""},{"var-tab":S(({tab:a})=>[n("span",{class:ce(["icon",a.analyze.classColor])},[(t(),b(ue(a.icon)))],2),n("span",Fe,p(a.label)+" ("+p(a.analyze.count||0)+")",1)]),_:1},8,["tabs","active"])):d("",!0),e(o).homeResults.results&&l.value.length?(t(),b(e(ee),{key:1,section:e(o).homepageAudit.activeTab,"all-results":e(o).homeResults.results,"show-instructions":""},null,8,["section","all-results"])):d("",!0),l.value.length?d("",!0):(t(),u("div",Ie,[n("span",null,p(_.noResults),1)]))]))}},qe=K(Ve,[["__scopeId","data-v-db3edc20"]]),Ke={class:"aioseo-seo-audit-checklist"},We=["innerHTML"],Eo={__name:"SeoHomepageAudit",setup(R){const i="all-in-one-seo-pack",o=O(),s=F(),r=I(),l=w(),_=x(!1),v={completeSeoChecklist:z("Complete SEO Checklist",i),refreshResults:z("Refresh Results",i),cardDescription:z("These are the results our SEO Analzyer has generated after analyzing the homepage of your website.",i)+" "+P.getDocLink(Y.learnMore,"seoAnalyzer",!0)},g=C(()=>!s.isUnlicensed||l.aioseo.data.isNetworkLicensed);async function c(){_.value=!0,await o.runSiteAnalyzer({refresh:!0}),_.value=!1}return(a,k)=>{const f=A("base-button");return t(),u("div",Ke,[y(e(D),{slug:"connectOrScore","hide-header":"","no-slide":"",toggles:!1},{default:S(()=>[y(e(Ge))]),_:1}),(g.value||e(r).internalOptions.internal.siteAnalysis.connectToken)&&!e(o).analyzeError&&e(o).homeResults.score&&!e(o).analyzing?(t(),b(e(D),{key:0,slug:"completeSeoChecklist","no-slide":"",toggles:!1},{header:S(()=>[n("span",null,p(v.completeSeoChecklist),1),y(e(me),null,{tooltip:S(()=>[n("span",{innerHTML:v.cardDescription},null,8,We)]),default:S(()=>[y(e(he))]),_:1})]),"header-extra":S(()=>[y(f,{class:"refresh-results",type:"gray",size:"small",onClick:c,loading:_.value},{default:S(()=>[y(e(ge)),M(" "+p(v.refreshResults),1)]),_:1},8,["loading"])]),default:S(()=>[y(e(qe))]),_:1})):d("",!0)])}}};export{Eo as default};
