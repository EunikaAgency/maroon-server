import{p as G,o as ue,g as Pe,a0 as j,u as de,a as se,b as pe,m as me}from"./index.1e998b9c.js";import Me from"./AnalyzeCompetitorSite.ebac8083.js";import{C as Fe}from"./Index.ab9e4016.js";import Ke from"./SeoHomepageAudit.31409f84.js";import{G as _e}from"./constants.231c2da8.js";import{C as ee}from"./Card.3b9cebd5.js";import{C as xe}from"./DonutChartWithLegend.f7d49fb6.js";import{e as te,c as re,a as Re,S as je}from"./Caret.6651fe3d.js";import{C as oe}from"./Tooltip.e34dd010.js";import{d as Ie}from"./vue-router.21860d65.js";import{C as Le}from"./Tabs.a760886c.js";import{T as qe}from"./Slide.53cdbff7.js";import{u as ge}from"./WpTable.e99cd8a6.js";import{S as He}from"./Info.691e9690.js";import"./translations.d159963e.js";import{_ as N}from"./_plugin-vue_export-helper.eefbdd86.js";import{_ as i,s as Ne}from"./default-i18n.20001971.js";import{j as U,o as t,d as r,H as f,w as u,e as c,t as d,K as E,a as M,u as e,b as _,l as V,v as ye,c as k,G as J,N as ae,r as he,y as ce,L as ke,z as fe,J as Ee,m as Ve,x as Ge}from"./runtime-dom.esm-bundler.d8b05b6d.js";import{C as ve}from"./Table.1551542a.js";import{a as Oe,g as we}from"./utils.5abe120b.js";import{S as Qe}from"./Information.5f425594.js";import{a as be}from"./index.42716f2e.js";import{S as We}from"./Gear.532438a0.js";import{B as ne}from"./Checkbox.a4e60e91.js";import{C as Ye}from"./PostStatusOptions.126a3f11.js";import{C as Se}from"./PostTypeOptions.847cd3b6.js";import{C as ie}from"./SettingsRow.f656c439.js";import{C as Te}from"./Blur.f5469924.js";import Je from"./HeadlineAnalyzer.4ce27d02.js";import"./helpers.1548cd59.js";import"./ScrollTo.81bea8a7.js";import"./SeoSiteScore.835c94c8.js";import"./Score.f042c135.js";import"./iphone-frame.e7be06d4.js";import"./SchemaStore.4e47c783.js";import"./metabox.61ec24b3.js";import"./cleanForSlug.5f70afb0.js";import"./deburr.360ac11a.js";import"./toString.569e8443.js";import"./html.3c982da3.js";import"./contentHasAssets.e1428256.js";import"./_baseSet.bcc51cfa.js";import"./regex.8a6101c0.js";import"./GoogleSearchPreview.4ac05671.js";import"./Url.54b4a307.js";import"./Refresh.a0b52b84.js";import"./DonutChart.2a6a4bf7.js";import"./AnimatedNumber.da8dc531.js";import"./numbers.9fc174f3.js";import"./Loading.2c3acbc7.js";import"./license.f8d59578.js";import"./upperFirst.5edbddc9.js";import"./allowed.acdc2ce6.js";/* empty css             */import"./params.af7ed354.js";import"./Header.427469ed.js";import"./addons.833ce3b7.js";import"./ScrollAndHighlight.43635beb.js";import"./LicenseKeyBar.4f0fdbef.js";import"./LogoGear.ffb86d6f.js";import"./Logo.1d87eeb5.js";import"./Support.52306335.js";import"./date.baa840b8.js";import"./datetime.f197aeae.js";import"./Exclamation.e58309d9.js";import"./Index.fdbe9e59.js";import"./Index.aaacbb96.js";import"./Book.f5782e8e.js";import"./Lab.8323a464.js";import"./ProBadge.e29f5c16.js";import"./Download.333a2ef3.js";import"./Checkmark.39dd9d2f.js";import"./HighlightToggle.1d5d8a1c.js";import"./Radio.351f457f.js";import"./Row.755a571f.js";import"./PostTypes.dafa8837.js";import"./List.5f10d894.js";const Xe={key:0,class:"aioseo-seo-analysis-post-status-badge"},Ze={__name:"PostStatusBadge",props:{status:{type:String,required:!0}},setup(T){const o="all-in-one-seo-pack",s=T,a={tooltip:i("The results for this post may be inaccurate or vary slightly until the post is published.",o)},n=U(()=>s.status==="future"?i("Scheduled",o):s.status.toUpperCase());return(x,l)=>["draft","private","pending","future"].includes(s.status)?(t(),r("div",Xe,[f(e(oe),null,{tooltip:u(()=>[c("span",null,d(a.tooltip),1)]),default:u(()=>[c("span",{class:E(["aioseo-seo-analysis-post-status-badge__status",s.status])},[M(d(n.value)+" ",1),f(e(He))],2)]),_:1})])):_("",!0)}},ze=N(Ze,[["__scopeId","data-v-d5a4d223"]]),es={class:"result-body"},ss={key:0,class:"result-body-loading"},ts={class:"content-type"},os={class:"aioseo-seo-site-analysis-issues-item__post-title"},as=["innerHTML"],ns={key:0,class:"row-actions"},is={key:0},ls=["href"],rs={key:1},cs=["href"],us={key:0,class:"issue"},ds={key:1,class:"issue-content"},ps=["innerHTML"],ms={class:"aioseo-seo-site-analysis-issues-item__row-actions"},_s=["href"],gs=["onClick"],Ae="seoAnalysis",ys={__name:"SiteAuditIssueRowTable",props:{result:{type:Object,required:!0}},setup(T){const o="aioseo-pro",s=T,a=V(!1),n=G(),x=ue(),l={fixActionText:i("Fix",o),ignoreActionText:i("Ignore",o),viewObject:i("View",o),editObject:i("Edit",o)},{pageNumber:g,processFilterTable:m,processPagination:$,processChangeItemsPerPage:y,processSearch:B,searchTerm:w,wpTableKey:O,wpTableLoading:R}=ge({changeItemsPerPageSlug:"seoAnalysis",fetchData:n.fetchPostsByIssue,tableId:Ae}),I=U(()=>{var p;const A={slug:"title",label:i("Title",o),width:"100%"},F={slug:"issue",label:i("Issue",o),width:"100%"},b={slug:"actions",label:"",width:"180px"},D=n.issuesResults.auditItemResults[s.result.code].hasIssueDetails?[A,F]:[A];return((p=s.result)==null?void 0:p.status)!=="passed"&&D.push(b),D});function P(A){var D,p;if(!["author-bio-missing","author-bio-ok"].includes(A.code))return A.fixLink+(((D=j.strings[A.code])==null?void 0:D.fixActionParams)||"");const b=A.fixLink.includes("profile.php")?"?":"&";return A.fixLink+b+(((p=j.strings[A.code])==null?void 0:p.fixActionParams)||"")}function v(A){$(A)}function z(A){B(A)}function C(A){y(A)}function L(A,F){n.doIgnoreIssue(A,F),s.result.count=s.result.count-1}return ye(()=>{m({slug:s.result.code}),setTimeout(()=>{a.value=!0},500)}),(A,F)=>{var b,D;return t(),r("div",es,[!((b=e(n))!=null&&b.issuesResults.auditItemResults[s.result.code])||!a.value?(t(),r("div",ss,[f(e(te))])):_("",!0),(D=e(n))!=null&&D.issuesResults.auditItemResults[s.result.code]&&a.value?(t(),k(e(ve),{ref:"'seoAnalysisIssuesByObjectCodeTable'",class:"posts-table",id:Ae,columns:I.value,"initial-page-number":e(g),"initial-items-per-page":e(x).settings.tablePagination.seoAnalysis,"initial-search-term":e(w),"show-bulk-actions":!1,"show-items-per-page":"",key:e(O),loading:e(R),rows:e(n).issuesResults.auditItemResults[s.result.code].rows,totals:e(n).issuesResults.auditItemResults[s.result.code].totals,onPaginate:v,onProcessChangeItemsPerPage:C,onSearch:z},{content_type:u(({row:p})=>[c("span",ts,d(p.type),1)]),title:u(({row:p})=>[c("div",os,[c("span",{innerHTML:e(Pe)(p.title)},null,8,as),p.status?(t(),k(e(ze),{key:0,status:p.status},null,8,["status"])):_("",!0)]),p.permalink||p.editLink?(t(),r("div",ns,[p.permalink?(t(),r("span",is,[c("a",{class:"view",href:p.permalink,target:"_blank",rel:"noopener noreferrer"},[c("span",null,d(l.viewObject)+" "+d(p.subtype.label),1)],8,ls),M(" | ")])):_("",!0),p.editLink?(t(),r("span",rs,[c("a",{class:"edit",href:p.editLink,target:"_blank",rel:"noopener noreferrer"},[c("span",null,d(l.editObject)+" "+d(p.subtype.label),1)],8,cs)])):_("",!0)])):_("",!0)]),issue:u(({row:p})=>{var Q,W,Y,X;return[p!=null&&p.metadata?(t(),r("span",us,d((Q=e(j).strings[p.code])==null?void 0:Q.text(p==null?void 0:p.metadata)),1)):_("",!0),p!=null&&p.metadata&&((W=e(j).strings[p.code])!=null&&W.content)&&((Y=e(j).strings[p.code])!=null&&Y.content(p==null?void 0:p.metadata).length)?(t(),r("div",ds,[c("pre",null,[M("						"),c("code",{innerHTML:(X=e(j).strings[p.code])==null?void 0:X.content(p==null?void 0:p.metadata)},null,8,ps),M(`
					`)])])):_("",!0)]}),actions:u(({row:p})=>{var Q,W,Y;return[c("div",ms,[p.fixLink&&((Q=T.result)==null?void 0:Q.status)!=="passed"?(t(),r("a",{key:0,href:P(p),target:"_blank",class:"aioseo-button blue small"},d(l.fixActionText),9,_s)):_("",!0),((Y=(W=e(n))==null?void 0:W.siteAudit)==null?void 0:Y.activeTab)!=="passed"?(t(),r("button",{key:1,type:"button",class:"aioseo-button gray small",onClick:X=>L(p,e(n).issuesResults.auditItemResults[s.result.code])},d(l.ignoreActionText),9,gs)):_("",!0)])]}),_:1},8,["columns","initial-page-number","initial-items-per-page","initial-search-term","loading","rows","totals"])):_("",!0)])}}},hs=N(ys,[["__scopeId","data-v-8c0fa25d"]]),fs={class:"aioseo-seo-site-analysis-issues-item"},vs={class:"aioseo-seo-site-analysis-issues-item__header"},bs={class:"aioseo-seo-site-analysis-issues-item__content"},ks={key:0,class:"site-audit-issue-description"},le={__name:"SiteAuditIssueRow",props:{result:{type:Object,required:!0},showIssueColumn:{type:Boolean,required:!1},activeRow:{type:Boolean,required:!1}},emits:["toggleActive"],setup(T,{emit:o}){const s=o,a=T,n=j,x=U(()=>{var m;return(m=n.strings[a.result.code])==null?void 0:m.title}),l=U(()=>{var m;return(m=n.strings[a.result.code])==null?void 0:m.description});function g(){s("toggleActive")}return(m,$)=>(t(),r("div",fs,[c("div",vs,[c("span",{class:E(["result-status",a.result.status])},null,2),c("div",bs,d(x.value||""),1),c("div",{class:E(["result-toggle",{active:T.activeRow}]),onClick:g},[f(e(re))],2)]),f(e(qe),{active:T.activeRow},{default:u(()=>[l.value?(t(),r("p",ks,d(l.value),1)):_("",!0),f(hs,{result:a.result},null,8,["result"])]),_:1},8,["active"])]))}},Ss={class:"aioseo-seo-site-analysis-issues"},Ts={key:0,class:"no-results"},As={class:"group-header"},$s={class:"group-header"},Cs={class:"group-header"},Ps={__name:"SiteAuditIssueGroups",props:{section:{type:String,required:!0},allResults:{type:Object,required:!0}},setup(T){const o="all-in-one-seo-pack",s=T,a=V(null),n=U(()=>j.getFilteredResults(s.allResults,s.section)),x=U(()=>Object.keys(n.value).every(m=>n.value[m].length===0));function l(m){if(a.value===m){a.value=null;return}a.value=m}function g(m){switch(m){case"basic":return i("Basic SEO",o);case"advanced":return i("Advanced SEO",o);case"performance":return i("Performance SEO",o)}}return(m,$)=>{var y,B,w,O,R,I;return t(),r("div",Ss,[x.value?(t(),r("div",Ts,d(e(i)("No items found.",e(o))),1)):(t(),r(J,{key:1},[((B=(y=n.value)==null?void 0:y.basic)==null?void 0:B.length)>0?(t(),r(J,{key:0},[c("div",As,d(g("basic")),1),(t(!0),r(J,null,ae(n.value.basic,(P,v)=>(t(),k(le,{key:`${v}-${P.code}`,result:P,"active-row":a.value===`basic-${v}`,onToggleActive:z=>l(`basic-${v}`)},null,8,["result","active-row","onToggleActive"]))),128))],64)):_("",!0),((O=(w=n.value)==null?void 0:w.advanced)==null?void 0:O.length)>0?(t(),r(J,{key:1},[c("div",$s,d(g("advanced")),1),(t(!0),r(J,null,ae(n.value.advanced,(P,v)=>(t(),k(le,{key:`${v}-${P.code}`,result:P,"active-row":a.value===`advanced-${v}`,onToggleActive:z=>l(`advanced-${v}`)},null,8,["result","active-row","onToggleActive"]))),128))],64)):_("",!0),((I=(R=n.value)==null?void 0:R.performance)==null?void 0:I.length)>0?(t(),r(J,{key:2},[c("div",Cs,d(g("performance")),1),(t(!0),r(J,null,ae(n.value.performance,(P,v)=>(t(),k(le,{key:`${v}-${P.code}`,result:P,"active-row":a.value===`performance-${v}`,onToggleActive:z=>l(`performance-${v}`)},null,8,["result","active-row","onToggleActive"]))),128))],64)):_("",!0)],64))])}}},xs=N(Ps,[["__scopeId","data-v-9037681f"]]),Rs={class:"aioseo-seo-audit-all-checks"},Is={key:0,class:"aioseo-seo-audit-all-checks__loader"},Ls={key:1,class:"label"},Os={__name:"SiteAuditAllChecksTab",setup(T){const o=G(),s=Ie(),a=V(!1),n=U(()=>{var m;const l=Oe({error:o.criticalCount("site")??0,warning:o.recommendedCount("site")??0,good:o.goodCount("site")??0}).filter($=>0<$.analyze.count);if(!l.length)return l;const g=(m=s==null?void 0:s.query)==null?void 0:m.tab;return g&&l.find($=>$.slug===g)?o.changeSiteAuditTab(g):o.changeSiteAuditTab(l[0].slug),l});function x(l){a.value||(a.value=!0,o.changeSiteAuditTab(l),setTimeout(()=>{a.value=!1},50))}return(l,g)=>{var m,$;return t(),r("div",Rs,[(m=e(o).issuesResults)!=null&&m.isLoading?(t(),r("div",Is,[f(e(te),{dark:""})])):(t(),k(e(Le),{key:1,tabs:n.value,showSaveButton:!1,active:e(o).siteAudit.activeTab,internal:"",onChanged:x,"skinny-tabs":""},{"var-tab":u(({tab:y})=>[y!=null&&y.analyze?(t(),r("span",{key:0,class:E(["icon",y.analyze.classColor])},[(t(),k(he(y.icon)))],2)):_("",!0),y!=null&&y.analyze?(t(),r("span",Ls,d(y.label)+" ("+d(y.analyze.count||0)+") ",1)):_("",!0)]),_:1},8,["tabs","active"])),e(o).issuesResults.auditItems&&!(($=e(o).issuesResults)!=null&&$.isLoading)&&e(o).siteAudit.activeTab!=="all-urls"&&e(o).siteAudit.activeTab!=="settings-audit"?(t(),k(e(xs),{key:e(o).siteAudit.activeTab,section:e(o).siteAudit.activeTab,"all-results":e(o).issuesResults.auditItems},null,8,["section","all-results"])):_("",!0)])}}},ws=N(Os,[["__scopeId","data-v-e207ecc7"]]),zs={__name:"Badge",props:{color:{type:String,default:"black",description:"Badge color(green|red|orange|black)"},text:{type:[String,Number],default:"",description:"Badge text"}},setup(T){return(o,s)=>(t(),r("span",{class:E(["aioseo-badge round",T.color])},d(T.text),3))}},Bs=N(zs,[["__scopeId","data-v-64238476"]]),Us={class:"aioseo-seo-site-analysis-url-details"},Ds={key:0,class:"result-body"},Ms={class:"result-body-loading"},Fs={key:1,class:"aioseo-seo-site-analysis-url-details-results"},Ks={class:"title"},js={class:"aioseo-seo-site-analysis-url-details-results__row-actions"},qs=["href"],Hs=["onClick"],$e="aioseo-seo-analysis-issues-posts-report-wp-table",Ns={__name:"SiteAuditUrlDetails",props:{result:{type:Object,required:!0}},setup(T){const o="aioseo-pro",s=T,a=G(),n=V(null),x={fixActionText:i("Fix",o),ignoreActionText:i("Ignore",o)},l=`${s.result.id}-${s.result.type.toLowerCase()}`,{pageNumber:g,processFilterTable:m,processSearch:$,searchTerm:y,wpTableKey:B,wpTableLoading:w}=ge({fetchData:a.fetchIssuesByObject,resultsPerPage:a.resultsperPage,tableId:$e,tableRef:n.value}),O=U(()=>[{slug:"icon",label:"",width:"44px"},{slug:"title",label:i("Issues",o),width:"100%"},{slug:"actions",label:"",width:"180px"}]);function R(C){var L;return(L=j.strings[C.code])==null?void 0:L.title}function I(C){var L;return(L=j.strings[C.code])==null?void 0:L.description}function P(C){var F,b;if(!["author-bio-missing","author-bio-ok"].includes(C.code))return C.fixLink+(((F=j.strings[C.code])==null?void 0:F.fixActionParams)||"");const A=C.fixLink.includes("profile.php")?"?":"&";return C.fixLink+A+(((b=j.strings[C.code])==null?void 0:b.fixActionParams)||"")}function v(C){$(C)}function z(C,L){a.doIgnoreIssue(C,L),(C==null?void 0:C.status)==="error"&&(s.result.count=s.result.count-1)}return ye(()=>{m({slug:s.result})}),(C,L)=>{var A,F;return t(),r("div",Us,[(A=e(a))!=null&&A.allUrlsResults.auditItemResults[l]?_("",!0):(t(),r("div",Ds,[c("div",Ms,[f(e(te))])])),(F=e(a))!=null&&F.allUrlsResults.auditItemResults[l]?(t(),r("div",Fs,[(t(),k(e(ve),{ref_key:"table",ref:n,class:"posts-table",id:$e,columns:O.value,"initial-page-number":e(g),"initial-search-term":e(y),"show-bulk-actions":!1,"show-pagination":!1,key:e(B),loading:e(w),rows:e(a).allUrlsResults.auditItemResults[l].rows,totals:e(a).allUrlsResults.auditItemResults[l].totals,"hide-top-pagination":!0,onSearch:v,"show-search":!1},{icon:u(({row:b})=>[c("div",{class:E(["aioseo-seo-site-analysis-url-details-results__result-icon",`${b.status}-status`])},[b.status==="passed"?(t(),k(e(Re),{key:0})):b.status==="error"?(t(),k(e(je),{key:1})):b.status==="warning"?(t(),k(e(Qe),{key:2})):(t(),k(e(We),{key:3}))],2)]),title:u(({row:b})=>{var D;return[c("div",Ks,[M(d(R(b))+" ",1),(D=I(b))!=null&&D.length&&(b==null?void 0:b.status)!=="passed"?(t(),k(e(oe),{key:0},{tooltip:u(()=>[M(d(I(b)),1)]),default:u(()=>[f(e(be))]),_:2},1024)):_("",!0)])]}),actions:u(({row:b})=>[c("div",js,[b.fixLink&&(b==null?void 0:b.status)!=="passed"?(t(),r("a",{key:0,href:P(b),target:"_blank",class:"aioseo-button blue small"},d(x.fixActionText),9,qs)):_("",!0),(b==null?void 0:b.status)!=="passed"?(t(),r("button",{key:1,type:"button",class:"aioseo-button gray small",onClick:D=>z(b,e(a).allUrlsResults.auditItemResults[l])},d(x.ignoreActionText),9,Hs)):_("",!0)])]),_:1},8,["columns","initial-page-number","initial-search-term","loading","rows","totals"]))])):_("",!0)])}}},Es=N(Ns,[["__scopeId","data-v-b79b8e1f"]]),Vs=["id"],Gs={key:0},Qs={key:1},Ws={key:1,class:"aioseo-seo-site-analysis-all-urls-results__keyword-input"},Ys={class:"actions"},Js={__name:"SiteAuditUrlKeywordCell",props:{row:{type:Object,required:!0}},emits:["keywordAdded"],setup(T,{emit:o}){const s="aioseo-pro",a=G(),n=o,x=T,l=U(()=>x.row),g=V(!1),m=V(!1),$={addKeyphrase:i("Add Focus Keyword",s),cancel:i("Cancel",s),add:i("Add",s)};async function y(O){m.value=!0;const I=document.getElementById(`keyword-${O.id}`).querySelector(".add-focus-keyphrase-metabox-input .medium"),P=I==null?void 0:I.value.trim();if(!P){m.value=!1;return}const v={keyphrase:P,score:0,analysis:{}};a.doAddFocusKeyword(O.id,v).then(()=>{O.keyphrases.focus=v,I.value="",I.blur()}).catch(z=>{console.error(z)}).finally(()=>{m.value=!1,n("keywordAdded")})}function B(O){O.preventDefault(),g.value=!0;const R=document.getElementById(`keyword-${l.value.id}`);setTimeout(()=>{const I=R==null?void 0:R.querySelector(".add-focus-keyphrase-metabox-input input");I==null||I.focus()},100)}function w(O,R){const P=document.getElementById(`keyword-${R}`).querySelector(".add-keyphrase");O.preventDefault(),P.click()}return(O,R)=>{var v,z,C;const I=ce("base-input"),P=ce("base-button");return l.value.isTruSeoEligible?(t(),r("div",{key:0,id:`keyword-${l.value.id}`,class:"aioseo-seo-site-analysis-all-urls-results__keyword"},[(C=(z=(v=l.value)==null?void 0:v.keyphrases)==null?void 0:z.focus)!=null&&C.keyphrase?(t(),r("span",Gs,d(l.value.keyphrases.focus.keyphrase),1)):(t(),r("div",Qs,[g.value?_("",!0):(t(),r("a",{key:0,href:"",onClick:B},d($.addKeyphrase),1)),g.value?(t(),r("div",Ws,[f(I,{size:"medium",class:"add-focus-keyphrase-metabox-input",onKeydown:[R[0]||(R[0]=ke(L=>w(L,l.value.id),["enter"])),R[1]||(R[1]=ke(L=>g.value=!1,["esc"]))]}),c("div",Ys,[f(P,{class:"cancel-add-keyphrase gray small",onClick:R[2]||(R[2]=L=>g.value=!1)},{default:u(()=>[M(d($.cancel),1)]),_:1}),f(P,{class:"add-keyphrase blue small",loading:m.value,onClick:R[3]||(R[3]=L=>y(l.value))},{default:u(()=>[M(d($.add),1)]),_:1},8,["loading"])])])):_("",!0)]))],8,Vs)):_("",!0)}}},Xs={class:"aioseo-seo-site-analysis-all-urls-results"},Zs={key:0,class:"aioseo-seo-site-analysis-all-urls-results__loader"},et={class:"aioseo-seo-site-analysis-all-urls-results__result-count"},st={class:"aioseo-seo-site-analysis-all-urls-results__object-title"},tt=["onClick"],ot=["innerHTML"],at={key:0,class:"row-actions"},nt={key:0},it=["href"],lt={key:1},rt=["href"],ct={key:0,class:"aioseo-seo-site-analysis-all-urls-results__result-toggle needs-refresh"},ut=["innerHTML"],dt=["onClick"],Ce="aioseo-seo-analysis-all-urls-wp-table",pt={__name:"SiteAuditAllUrlsTable",setup(T){const o="aioseo-pro",s=G(),a=de(),n=ue(),x=se(),l=V(null),g={viewObject:i("View",o),editObject:i("Edit",o),needsRefresh:i("The content is being re-analyzed and needs to refresh.",o)},{pageNumber:m,processAdditionalFilters:$,processPagination:y,processChangeItemsPerPage:B,processSearch:w,processFetchTableData:O,searchTerm:R,wpTableKey:I,wpTableLoading:P}=ge({changeItemsPerPageSlug:"seoAnalysis",fetchData:s.fetchAllUrls,resultsPerPage:n.settings.tablePagination.seoAnalysis,tableId:Ce,tableRef:l.value}),v=V(-1),z=U(()=>[{slug:"count",label:"",width:"50px"},{slug:"title",label:i("Title",o),width:"100%"},{slug:"keyword",label:i("Focus Keyword",o),width:"100%"},{slug:"toggle_issues",label:"",width:"50px"}]),C=U(()=>[{name:"content_type",options:[{value:"all",label:i("All Content Types",o)},...F(),...b()]}]),L=S=>{var q,H;return(q=S.counts)!=null&&q.error?"red":(H=S.counts)!=null&&H.warning?"orange":"green"},A=S=>{var q,H;return((q=S.counts)==null?void 0:q.error)||((H=S.counts)==null?void 0:H.warning)||0},F=()=>{var h;const S=((h=x.aioseo.postData.postTypes)==null?void 0:h.filter(K=>K.name!=="attachment"))||[],q=a.dynamicOptions.seoAnalysis.postTypes.included;return(a.dynamicOptions.seoAnalysis.postTypes.all?S:S.filter(K=>q.includes(K.name))).map(K=>({value:K.name,label:K.label}))},b=()=>{const S=x.aioseo.postData.taxonomies||[],q=a.dynamicOptions.seoAnalysis.taxonomies.included;return(a.dynamicOptions.seoAnalysis.taxonomies.all?S:S.filter(h=>q.includes(h.name))).map(h=>({value:h.name,label:h.label}))};function D(S){v.value=-1,y(S)}function p(S){v.value=-1,$({...S,number:1})}function Q(S){v.value=-1,B(S)}function W(S){v.value=-1,w(S)}function Y(S){return S===v.value}function X(S){if(v.value===S){v.value=-1;return}v.value=S}function Ue(S){v.value=-1,S.needsRefresh=!0}return fe(()=>{var S;!((S=s.allUrlsResults)!=null&&S.isLoading)&&!P.value&&O()}),(S,q)=>{var H;return t(),r("div",Xs,[(H=e(s).allUrlsResults)!=null&&H.isLoading&&!e(P)?(t(),r("div",Zs,[f(e(te),{dark:""})])):(t(),k(e(ve),{ref:"seoAnalysisAllUrlsTable",class:"posts-table","additional-filters":C.value,id:Ce,columns:z.value,"initial-page-number":e(m),"initial-search-term":e(R),"initial-items-per-page":e(n).settings.tablePagination.seoAnalysis,showBulkActions:!1,"show-items-per-page":"",key:e(I),loading:e(P),rows:e(s).allUrlsResults.rows,totals:e(s).allUrlsResults.totals,onPaginate:D,onProcessAdditionalFilters:p,onProcessChangeItemsPerPage:Q,onSearch:W},{"edit-row":u(({row:h})=>[h!=null&&h.needsRefresh?_("",!0):(t(),k(e(Es),{key:0,result:h},null,8,["result"]))]),count:u(({row:h})=>[c("div",et,[A(h)?(t(),k(e(Bs),{key:0,color:L(h),text:A(h)},null,8,["color","text"])):(t(),r("span",{key:1,class:E(["icon",L(h)])},[f(e(Re))],2))])]),title:u(({row:h,index:K,editRow:Z})=>[c("div",st,[c("button",{type:"button",onClick:Ee(De=>{Z(K),X(K)},["prevent"])},[c("span",{innerHTML:e(Pe)(h.title)},null,8,ot)],8,tt),h.status?(t(),k(e(ze),{key:0,status:h.status},null,8,["status"])):_("",!0)]),h.permalink||h.editLink?(t(),r("div",at,[h.permalink?(t(),r("span",nt,[c("a",{class:"view",href:h.permalink,target:"_blank",rel:"noopener noreferrer"},[c("span",null,d(g.viewObject)+" "+d(h.subtype.label),1)],8,it),M(" | ")])):_("",!0),h.editLink?(t(),r("span",lt,[c("a",{class:"edit",href:h.editLink,target:"_blank",rel:"noopener noreferrer"},[c("span",null,d(g.editObject)+" "+d(h.subtype.label),1)],8,rt)])):_("",!0)])):_("",!0)]),keyword:u(({row:h})=>[(t(),k(e(Js),{key:h.id,row:h,onKeywordAdded:K=>Ue(h)},null,8,["row","onKeywordAdded"]))]),toggle_issues:u(({index:h,editRow:K,row:Z})=>[Z!=null&&Z.needsRefresh?(t(),r("div",ct,[f(e(oe),{placement:"left"},{tooltip:u(()=>[c("span",{innerHTML:g.needsRefresh},null,8,ut)]),default:u(()=>[f(e(re))]),_:1})])):(t(),r("div",{key:1,class:E(["aioseo-seo-site-analysis-all-urls-results__result-toggle",{active:Y(h)}]),onClick:De=>{K(h),X(h)}},[f(e(re))],10,dt))]),_:1},8,["additional-filters","columns","initial-page-number","initial-search-term","initial-items-per-page","loading","rows","totals"]))])}}},mt={class:"aioseo-seo-analysis-settings"},_t={class:"aioseo-settings-row"},gt=["innerHTML"],yt={class:"aioseo-description"},ht={class:"aioseo-description"},ft={class:"aioseo-description"},vt={__name:"AuditSettingsTab",setup(T){const o="all-in-one-seo-pack",s=_e,a=de(),n={headerDescription:i("Customize your SEO Audit by selecting which Post Types, Post Statuses or Taxonomies you want to include. You can also individually exclude posts, page or taxonomies for complete control. Your homepage will always be included in the audit regardless of which settings are enabled or disabled below.",o),postTypes:i("Post Types",o),includeAllPostTypes:i("Include All Post Types",o),selectPostTypes:i("Select which Post Types appear in your audit.",o),postStatuses:i("Post Statuses",o),includeAllPostStatuses:i("Include All Post Statuses",o),selectPostStatuses:i("Select which Post Statuses appear in your audit.",o),taxonomies:i("Taxonomies",o),includeAllTaxonomies:i("Include All Taxonomies",o),selectTaxonomies:i("Select which Taxonomies appear in your audit.",o)};return(x,l)=>(t(),r("div",mt,[f(e(ee),{slug:"settingsTab","hide-header":"","no-slide":"",toggles:!1,cardClass:{"aioseo-card--simple":!0,"aioseo-card--no-padding":!0}},{default:u(()=>[c("div",_t,[M(d(n.headerDescription)+" ",1),c("span",{innerHTML:e(pe).getDocLink(e(s).learnMore,"seoAnalyzer",!0)},null,8,gt)]),f(e(ie),{name:n.postTypes},{content:u(()=>[f(e(ne),{size:"medium",modelValue:e(a).dynamicOptions.seoAnalysis.postTypes.all,"onUpdate:modelValue":l[0]||(l[0]=g=>e(a).dynamicOptions.seoAnalysis.postTypes.all=g)},{default:u(()=>[M(d(n.includeAllPostTypes),1)]),_:1},8,["modelValue"]),e(a).dynamicOptions.seoAnalysis.postTypes.all?_("",!0):(t(),k(e(Se),{key:0,options:e(a).dynamicOptions.seoAnalysis,excluded:["attachment"],type:"postTypes"},null,8,["options"])),c("div",yt,d(n.selectPostTypes),1)]),_:1},8,["name"]),f(e(ie),{name:n.postStatuses},{content:u(()=>[f(e(ne),{size:"medium",modelValue:e(a).dynamicOptions.seoAnalysis.postStatuses.all,"onUpdate:modelValue":l[1]||(l[1]=g=>e(a).dynamicOptions.seoAnalysis.postStatuses.all=g)},{default:u(()=>[M(d(n.includeAllPostStatuses),1)]),_:1},8,["modelValue"]),e(a).dynamicOptions.seoAnalysis.postStatuses.all?_("",!0):(t(),k(e(Ye),{key:0,options:e(a).dynamicOptions.seoAnalysis,type:"postStatuses"},null,8,["options"])),c("div",ht,d(n.selectPostStatuses),1)]),_:1},8,["name"]),f(e(ie),{name:n.taxonomies},{content:u(()=>[f(e(ne),{size:"medium",modelValue:e(a).dynamicOptions.seoAnalysis.taxonomies.all,"onUpdate:modelValue":l[2]||(l[2]=g=>e(a).dynamicOptions.seoAnalysis.taxonomies.all=g)},{default:u(()=>[M(d(n.includeAllTaxonomies),1)]),_:1},8,["modelValue"]),e(a).dynamicOptions.seoAnalysis.taxonomies.all?_("",!0):(t(),k(e(Se),{key:0,options:e(a).dynamicOptions.seoAnalysis,excluded:["product_attributes"],type:"taxonomies"},null,8,["options"])),c("div",ft,d(n.selectTaxonomies),1)]),_:1},8,["name"])]),_:1})]))}},bt={key:1,class:"label"},kt={__name:"SiteAuditGlobalTab",setup(T){const o="aioseo-pro",s=G(),a=Ie(),n=V(!1),x=U(()=>{const m=Oe({error:s.criticalCount("site")??0,warning:s.recommendedCount("site")??0,good:s.goodCount("site")??0}).filter(O=>0<O.analyze.count),$={slug:"all-urls",label:i("All URLs",o),name:i("All URLs",o)},y={slug:"all-checks",label:i("All Checks",o),name:i("All Checks",o)},B={slug:"settings-audit",label:i("Settings",o),name:i("Settings",o)},w=[$];return m.length&&w.push(y),[...w,B]});function l(m){n.value||(n.value=!0,s.changeSeoAnalyzerTab(m),setTimeout(()=>{n.value=!1},50))}function g(m,$){m.tab&&s.changeSeoAnalyzerTab("all-checks")}return Ve(()=>a.query,(m,$)=>{g(m)},{deep:!0}),fe(()=>{var $;(($=a==null?void 0:a.query)==null?void 0:$.tab)?s.changeSeoAnalyzerTab("all-checks"):s.changeSeoAnalyzerTab("all-urls")}),(m,$)=>(t(),r("div",null,[f(e(Le),{tabs:x.value,showSaveButton:!1,active:e(s).activeTab,internal:"",onChanged:l,"skinny-tabs":""},{"var-tab":u(({tab:y})=>[y!=null&&y.analyze?(t(),r("span",{key:0,class:E(["icon",y.analyze.classColor])},[(t(),k(he(y.icon)))],2)):_("",!0),y!=null&&y.analyze?(t(),r("span",bt,d(y.label)+" ("+d(y.analyze.count||0)+") ",1)):_("",!0)]),_:1},8,["tabs","active"]),e(s).issuesResults.auditItems&&e(s).activeTab=="all-checks"?(t(),k(e(ws),{key:e(s).activeTab,section:e(s).activeTab},null,8,["section"])):e(s).allUrlsResults&&e(s).activeTab==="all-urls"?(t(),k(e(pt),{key:1,section:e(s).activeTab,"all-results":e(s).allUrlsResults},null,8,["section","all-results"])):e(s).activeTab==="settings-audit"?(t(),k(e(vt),{key:2})):_("",!0)]))}},Be=N(kt,[["__scopeId","data-v-ed33beda"]]),St={class:"aioseo-seo-audit-checklist"},Tt={key:0,class:"aioseo-seo-audit-checklist__loader"},At=["innerHTML"],$t={__name:"SeoSiteAuditLicensed",setup(T){const o="all-in-one-seo-pack",s=G(),a=me(),n=de(),x=se(),l=ue(),g={completeSeoChecklist:i("Site Audit Report",o),cardDescription:i("These are the results our SEO Analzyer has generated after analyzing the pages of your website.",o)+" "+pe.getDocLink(_e.learnMore,"seoAnalyzer",!0),siteOverview:i("Site Overview",o),totalPostsLabel:i("Total Checks",o),loadingText:i("Analyzing...",o)},m=U(()=>x.isPro&&(!a.isUnlicensed||x.aioseo.data.isNetworkLicensed)),$=U(()=>{var P,v,z,C,L,A;const B=((v=(P=s==null?void 0:s.issuesResults)==null?void 0:P.counts)==null?void 0:v.passed)||0,w=((C=(z=s==null?void 0:s.issuesResults)==null?void 0:z.counts)==null?void 0:C.warning)||0,O=((A=(L=s==null?void 0:s.issuesResults)==null?void 0:L.counts)==null?void 0:A.error)||0,R=(s==null?void 0:s.issueResultsTotalCounts)||0;return we({good:B,warnings:w,issues:O,total:R})});async function y(){m.value&&(await s.fetchAllUrls({limit:l.settings.tablePagination.seoAnalysis,offset:0}),await s.fetchSitePagesAnalysisResults())}return ye(async()=>{s.issuesResults.isLoading=!0,window.aioseoBus.$on("changes-saved",async()=>{await y()})}),fe(async()=>{await y()}),(B,w)=>(t(),r("div",St,[f(e(ee),{slug:"connectOrScore","no-slide":"",toggles:!1},{header:u(()=>[c("span",null,d(g.siteOverview),1)]),default:u(()=>[e(s).issuesResults.isLoading?(t(),r("div",Tt,[f(e(te),{dark:""})])):(t(),k(e(xe),{key:1,parts:$.value,total:parseInt(e(s).issueResultsTotalCounts),label:g.totalPostsLabel,loading:e(s).issuesResults.isLoading,"loading-text":g.loadingText,animatedNumber:!1},null,8,["parts","total","label","loading","loading-text"]))]),_:1}),m.value||e(n).internalOptions.internal.siteAnalysis.connectToken?(t(),k(e(ee),{key:0,slug:"completeSeoChecklist","no-slide":"",toggles:!1},{header:u(()=>[c("span",null,d(g.completeSeoChecklist),1),f(e(oe),null,{tooltip:u(()=>[c("span",{innerHTML:g.cardDescription},null,8,At)]),default:u(()=>[f(e(be))]),_:1})]),default:u(()=>[f(e(Be))]),_:1})):_("",!0)]))}},Ct={class:"aioseo-seo-audit-checklist"},Pt=["innerHTML"],xt={__name:"SeoSiteAuditUnlicensed",setup(T){const o="all-in-one-seo-pack",s=se(),a={completeSeoChecklist:i("Site Audit Report",o),cardDescription:i("These are the results our SEO Analzyer has generated after analyzing the pages of your website.",o)+" "+pe.getDocLink(_e.learnMore,"seoAnalyzer",!0),siteOverview:i("Site Overview",o),totalPostsLabel:i("Total Checks",o),connectWithAioseo:Ne(i("Connect with %1$s",o),"AIOSEO")},n=U(()=>we({good:50,warnings:30,issues:20,total:100}));return(x,l)=>(t(),r("div",Ct,[f(e(Te),null,{default:u(()=>[f(e(ee),{slug:"connectOrScore","no-slide":"",toggles:!1},{header:u(()=>[c("span",null,d(a.siteOverview),1)]),default:u(()=>[f(e(xe),{parts:n.value,total:100,label:a.totalPostsLabel,animatedNumber:!1},null,8,["parts","label"])]),_:1})]),_:1}),e(s).isPro?_("",!0):(t(),k(e(Te),{key:0},{default:u(()=>[f(e(ee),{slug:"completeSeoChecklist","no-slide":"",toggles:!1},{header:u(()=>[c("span",null,d(a.completeSeoChecklist),1),f(e(oe),null,{tooltip:u(()=>[c("span",{innerHTML:a.cardDescription},null,8,Pt)]),default:u(()=>[f(e(be))]),_:1})]),default:u(()=>[f(e(Be))]),_:1})]),_:1})),Ge(x.$slots,"upsell",{},void 0,!0)]))}},Rt=N(xt,[["__scopeId","data-v-5a6a6150"]]),It={class:"aioseo-seo-site-score-cta"},Lt=["href"],Ot={__name:"SeoSiteAudit",setup(T){const o="all-in-one-seo-pack",s=me(),a=se(),n={enterLicenseKey:i("A valid license key is required",o),toSeeYourSiteScore:i("to see Site Audit.",o)};return(x,l)=>(t(),r("div",null,[e(a).isPro&&(!e(s).isUnlicensed||e(a).aioseo.data.isNetworkLicensed)?(t(),k(e($t),{key:0})):(t(),k(e(Rt),{key:1},{upsell:u(()=>[c("div",It,[c("a",{href:e(a).aioseo.urls.aio.settings},d(n.enterLicenseKey),9,Lt),M(" "+d(n.toSeeYourSiteScore),1)])]),_:1}))]))}},wt=N(Ot,[["__scopeId","data-v-97ee90ee"]]),zt="all-in-one-seo-pack",Bt={setup(){const T=se(),o=me(),s=G();return{rootStore:T,licenseStore:o,analyzerStore:s}},components:{AnalyzeCompetitorSite:Me,CoreMain:Fe,SeoHomepageAudit:Ke,SeoSiteAudit:wt,HeadlineAnalyzer:Je},data(){return{strings:{pageName:i("SEO Analysis",zt)}}},mounted(){this.rootStore.isPro&&!this.licenseStore.isUnlicensed&&this.analyzerStore.objectsScan.percent!==100&&this.analyzerStore.fetchObjectsScanPercent()}};function Ut(T,o,s,a,n,x){const l=ce("core-main");return t(),k(l,{"page-name":n.strings.pageName,"show-save-button":T.$route.name==="seo-site-audit"&&a.analyzerStore.activeTab==="settings-audit"},{default:u(()=>[(t(),k(he(T.$route.name)))]),_:1},8,["page-name","show-save-button"])}const la=N(Bt,[["render",Ut]]);export{la as default};
