import{u as dt,d as pt}from"./vue-router.21860d65.js";import{N as K,o as mt,b as Ct,a as Dt}from"./index.1e998b9c.js";import{a as X}from"./addons.833ce3b7.js";import{u as Mt,a as Bt}from"./RequiresUpdate.99407657.js";import{C as Ot}from"./Index.ab9e4016.js";import{n as gt}from"./numbers.9fc174f3.js";import{u as J}from"./WpTable.e99cd8a6.js";import{C as et}from"./Table.1551542a.js";import{b as ht}from"./date.baa840b8.js";import{u as st}from"./PostTypes.dafa8837.js";import{D as Ft}from"./datetime.f197aeae.js";import{C as kt}from"./Tooltip.e34dd010.js";import{L as nt,a as qt,_ as ft,b as bt,c as vt,d as _t,e as wt,u as St}from"./Index.c54577aa.js";import{S as Nt,q as Vt}from"./index.42716f2e.js";import"./translations.d159963e.js";import{_ as Z}from"./_plugin-vue_export-helper.eefbdd86.js";import{j as H,y as _,o as f,d as U,c as A,w as c,e as i,t as p,a as L,H as m,b as R,K as j,J as G,l as B,v as ot,n as yt,r as it,u as S,z as Ut,q as Et}from"./runtime-dom.esm-bundler.d8b05b6d.js";import{_ as a,s as D}from"./default-i18n.20001971.js";import{c as It}from"./Caret.6651fe3d.js";import{S as $}from"./External.5ab5cd1b.js";import{C as Pt}from"./Tabs.a760886c.js";import{a as at,b as lt,S as rt}from"./Affiliate.fc891890.js";import{S as ut}from"./Suggestion.5b45a24e.js";import{S as At}from"./Refresh.a0b52b84.js";import ct from"./Overview.8ab9394d.js";import{G as Kt}from"./constants.231c2da8.js";import{u as zt}from"./JsonValues.3fcfec97.js";import{B as Ht}from"./Checkbox.a4e60e91.js";import{B as Yt}from"./Textarea.7dcf0faf.js";import{C as jt}from"./Card.3b9cebd5.js";import{C as Gt}from"./ExcludePosts.18f5227e.js";import{C as Jt}from"./PostStatusOptions.126a3f11.js";import{C as Wt}from"./PostTypeOptions.847cd3b6.js";import{C as Qt}from"./SettingsRow.f656c439.js";import"./helpers.1548cd59.js";import"./upperFirst.5edbddc9.js";import"./toString.569e8443.js";import"./RequiresUpdate.8207a32e.js";import"./license.f8d59578.js";import"./allowed.acdc2ce6.js";import"./deburr.360ac11a.js";/* empty css             */import"./params.af7ed354.js";import"./Header.427469ed.js";import"./ScrollAndHighlight.43635beb.js";import"./ScrollTo.81bea8a7.js";import"./LicenseKeyBar.4f0fdbef.js";import"./LogoGear.ffb86d6f.js";import"./AnimatedNumber.da8dc531.js";import"./Logo.1d87eeb5.js";import"./Support.52306335.js";import"./Url.54b4a307.js";import"./Exclamation.e58309d9.js";import"./Gear.532438a0.js";import"./Slide.53cdbff7.js";import"./Download.333a2ef3.js";import"./regex.8a6101c0.js";import"./Index.9dc881e9.js";import"./Editor.b08ea97d.js";import"./tags.377081fc.js";import"./isEqual.ba810136.js";import"./_baseIsEqual.cf429ced.js";import"./_getTag.bcd028a7.js";import"./_baseClone.6d23a152.js";import"./_arrayEach.6af5abac.js";import"./_getAllKeysIn.e05390b8.js";import"./Plus.4801a669.js";import"./ProBadge.e29f5c16.js";import"./Information.5f425594.js";import"./AddonConditions.cd0945b5.js";import"./Index.4086f79b.js";import"./Row.755a571f.js";import"./Blur.f5469924.js";import"./SeoSiteScore.835c94c8.js";import"./DonutChartWithLegend.f7d49fb6.js";import"./DonutChart.2a6a4bf7.js";import"./Loading.2c3acbc7.js";import"./Row.5aad101b.js";import"./RequiredPlans.8ef9ae27.js";import"./Checkmark.39dd9d2f.js";import"./AddPlus.871c15d2.js";import"./External.9019c3ac.js";import"./HighlightToggle.1d5d8a1c.js";import"./Radio.351f457f.js";const q="aioseo-pro",Xt={emits:["updated"],setup(t,s){const{editPost:l,viewPost:e}=st(),o=I=>(C.setDomainsReportInnerPaginatedPage({domain:t.domain,page:y}),C.fetchDomainsReportInner({...I,additionalFilters:{domainIndex:t.activeDomain,domain:t.domain}}).then(()=>{u.value++,s.emit("updated")})),n="aioseo-domains-report-inner-",g=H(()=>n+Ft.now().toFormat("x")),{pageNumber:y,processPagination:v,refreshTable:b,resultsPerPage:w,searchTerm:k,wpTableKey:u,wpTableLoading:T}=J({changeItemsPerPageSlug:"aioseo-domains-report-inner",fetchData:o,resultsPerPage:5,tableId:g}),C=K();return{dateSqlToLocal:ht,editPost:l,linkAssistantStore:C,pageNumber:y,processPagination:v,refreshTable:b,resultsPerPage:w,searchTerm:k,tableId:g,viewPost:e,wpTableKey:u,wpTableLoading:T}},components:{CoreTooltip:kt,CoreWpTable:et,LinkAssistantConfirmationModal:nt,LinkAssistantEditablePhrase:qt,SvgTrash:Nt},props:{domain:{type:String,required:!0},rows:{type:Array,required:!0},activeDomain:{type:Number}},data(){return{activePost:-1,showModal:!1,action:"",selectedRows:null,bulkOptions:[{label:a("Delete",q),value:"delete"}],strings:{delete:a("Delete",q)},modalStrings:{areYouSureSingle:a("Are you sure you want to delete these links for this domain?",q),areYouSureMultiple:a("Are you sure you want to delete these links for this domain?",q),areYouSureAll:a("Are you sure you want to delete all links for this domain?",q),actionCannotBeUndone:a("This action cannot be undone.",q),yesSingle:a("Yes, I want to delete these links",q),yesMultiple:a("Yes, I want to delete these links",q),yesAll:a("Yes, I want to delete all links",q),noChangedMind:a("No, I changed my mind",q)}}},computed:{columns(){return[{slug:"post_title",label:a("Post Title",q)},{slug:"phrases",label:a("Phrases with Links",q)},{slug:"publish_date",label:a("Publish Date",q),width:"160px"},{slug:"delete",width:"50px"}]},shouldShowPagination(){var t;return 1<((t=this.rows[0])==null?void 0:t.totals.pages)},initialPageNumber(){if(this.linkAssistantStore.domainsReport.innerPagination===void 0||this.linkAssistantStore.domainsReport.innerPagination[this.domain]===void 0)return 1;const t=this.linkAssistantStore.domainsReport.innerPagination[this.domain];return t||1}},methods:{toggleShowMorePhrases(t){if(this.activePost===t){this.activePost=-1;return}this.activePost=t},deleteLink({postIndex:t,linkIndex:s}){this.wpTableLoading=!0,this.linkAssistantStore.domainsReportInnerLinkDelete({searchTerm:this.searchTerm,rows:this.rows,postIndex:t,linkIndex:s,offset:this.pageNumber===1?0:(this.pageNumber-1)*this.resultsPerPage}).finally(()=>{this.refreshTable().then(()=>{this.$emit("updated"),this.wpTableLoading=!1})})},saveModifiedPhrase(t){if(!this.linkAssistantStore.domainsReport.rows[this.activeDomain])return;const s=Object.keys(this.linkAssistantStore.domainsReport.rows[this.activeDomain])[0];!s||!this.linkAssistantStore.domainsReport.rows[this.activeDomain][s][t.postIndex]||!this.linkAssistantStore.domainsReport.rows[this.activeDomain][s][t.postIndex].links[t.phraseIndex]||this.linkAssistantStore.domainsReport.rows[this.activeDomain][s][t.postIndex].links[t.phraseIndex].phrase_html!==t.phraseHtml&&(this.linkAssistantStore.domainsReport.rows[this.activeDomain][s][t.postIndex].links[t.phraseIndex].phrase=t.phrase,this.linkAssistantStore.domainsReport.rows[this.activeDomain][s][t.postIndex].links[t.phraseIndex].phrase_html=t.phraseHtml,this.linkAssistantStore.domainsReport.rows[this.activeDomain][s][t.postIndex].links[t.phraseIndex].anchor=t.anchor,this.wpTableLoading=!0,this.linkAssistantStore.domainsReportInnerLinkUpdate({domain:s,link:this.linkAssistantStore.domainsReport.rows[this.activeDomain][s][t.postIndex].links[t.phraseIndex]}).then(this.refreshTable).then(()=>{this.wpTableKey++,this.$emit("updated")}).finally(()=>{this.wpTableLoading=!1}))},maybeDoBulkAction({action:t,selectedRows:s}){!t||!s.length||(this.action=t,this.selectedRows=s,this.showModal=!0)},doBulkAction(){if(this.showModal=!1,this.action==="delete")return this.wpTableLoading=!0,this.linkAssistantStore.domainsReportInnerBulk({searchTerm:this.searchTerm,action:this.action,domainIndex:this.activeDomain,linkIndexes:this.selectedRows,offset:this.pageNumber===1?0:(this.pageNumber-1)*this.resultsPerPage}).finally(()=>{this.refreshTable().then(()=>{this.$emit("updated"),this.wpTableLoading=!1})})}},created(){this.pageNumber=this.initialPageNumber}},Zt={key:0,class:"domains-report-inner"},$t=["href"],te={class:"row-actions"},ee={class:"view"},se=["href"],ne={class:"edit"},oe=["href"],ie={class:"date"};function ae(t,s,l,e,o,n){const g=_("link-assistant-editable-phrase"),y=_("svg-trash"),v=_("core-tooltip"),b=_("core-wp-table"),w=_("link-assistant-confirmation-modal");return l.rows&&l.rows.length?(f(),U("div",Zt,[(f(),A(b,{class:"link-assistant-inner-table","bulk-options":o.bulkOptions,columns:n.columns,id:e.tableId,"initial-page-number":e.pageNumber,key:e.wpTableKey,loading:e.wpTableLoading,rows:l.rows,"show-pagination":n.shouldShowPagination,"show-search":!1,"show-table-footer":!1,totals:l.rows[0].totals,onPaginate:e.processPagination,onProcessBulkAction:n.maybeDoBulkAction},{post_title:c(({row:k})=>[i("strong",null,[i("a",{class:"edit-link",href:k.context.permalink,target:"_blank"},p(k.context.postTitle),9,$t)]),i("div",te,[i("span",ee,[i("a",{href:k.context.permalink,target:"_blank"},p(e.viewPost(k.context.postType.singular)),9,se),L(" | ")]),i("span",ne,[i("a",{href:k.context.editLink,target:"_blank"},p(e.editPost(k.context.postType.singular)),9,oe)])])]),phrases:c(({row:k,index:u})=>[m(g,{row:k,rowIndex:u,activeRow:o.activePost,domainsReport:"",onDelete:n.deleteLink,onToggleShowMorePhrases:n.toggleShowMorePhrases,onSaveModifiedPhrase:n.saveModifiedPhrase},null,8,["row","rowIndex","activeRow","onDelete","onToggleShowMorePhrases","onSaveModifiedPhrase"])]),publish_date:c(({row:k})=>[i("span",ie,p(e.dateSqlToLocal(k.context.publishDate,"MMMM d, yyyy")),1)]),delete:c(({index:k})=>[m(v,{type:"action"},{tooltip:c(()=>[L(p(o.strings.delete),1)]),default:c(()=>[m(y,{onClick:u=>n.maybeDoBulkAction({action:"delete",selectedRows:[k]})},null,8,["onClick"])]),_:2},1024)]),_:1},8,["bulk-options","columns","id","initial-page-number","loading","rows","show-pagination","totals","onPaginate","onProcessBulkAction"])),m(w,{show:o.showModal,strings:o.modalStrings,selectedRows:o.selectedRows,onDoBulkAction:n.doBulkAction,onCloseModal:s[0]||(s[0]=k=>o.showModal=!1)},null,8,["show","strings","selectedRows","onDoBulkAction"])])):R("",!0)}const le=Z(Xt,[["render",ae]]),M="aioseo-pro",re={setup(){const t=K(),s="aioseo-link-assistant-domains-report-wp-table",{pageNumber:l,processChangeItemsPerPage:e,processFetchTableData:o,processPagination:n,processSearch:g,processSort:y,searchTerm:v,wpTableKey:b,wpTableLoading:w}=J({changeItemsPerPageSlug:"linkAssistantDomainsReport",fetchData:t.fetchDomainsReport,tableId:s});return{linkAssistantStore:t,pageNumber:l,processChangeItemsPerPage:e,processFetchTableData:o,processPagination:n,processSearch:g,processSort:y,searchTerm:v,settingsStore:mt(),tableId:s,wpTableKey:b,wpTableLoading:w}},components:{CoreWpTable:et,DomainsReportInner:le,LinkAssistantConfirmationModal:nt,SvgCaret:It,SvgFile:Vt,SvgLinkExternal:$},data(){return{numbers:gt,innerTableKey:0,activeRow:-1,showModal:!1,selectedRows:null,action:null,bulkOptions:[{label:a("Delete",M),value:"delete"}],strings:{view:a("View",M),deleteAllLinks:a("Delete All Links",M)},modalStrings:{areYouSureSingle:a("Are you sure you want to delete all links for this domain?",M),areYouSureMultiple:a("Are you sure you want to delete all links for these domains?",M),areYouSureAll:a("Are you sure you want to delete all links for all domains?",M),actionCannotBeUndone:a("This action cannot be undone.",M),yesSingle:a("Yes, I want to delete this link",M),yesMultiple:a("Yes, I want to delete these links",M),yesAll:a("Yes, I want to delete all links",M),noChangedMind:a("No, I changed my mind",M)}}},computed:{columns(){return[{slug:"domain",label:a("Domain",M)},{slug:"posts",label:a("Posts",M),width:"90px"},{slug:"links",label:a("Links",M),width:"90px"},{slug:"toggle-button",label:"",width:"60px"}]}},methods:{postCount(t){var l;const s=Object.keys(t)[0];return((l=t[s][0])==null?void 0:l.totals.total)||0},linkCount(t){var l;const s=Object.keys(t)[0];return((l=t[s][0])==null?void 0:l.totals.totalLinks)||0},isRowActive(t){return t===this.activeRow},toggleRow(t){if(this.activeRow===t){this.activeRow=-1;return}this.activeRow=t},maybeDoBulkAction({action:t,selectedRows:s}){s===!1||!t||(this.action=t,this.selectedRows=s,this.showModal=!0)},doBulkAction(){return this.showModal=!1,this.wpTableLoading=!0,this.linkAssistantStore.domainsReportBulk({action:this.action,searchTerm:this.searchTerm,rowIndexes:this.selectedRows}).then(this.processFetchTableData).finally(()=>{this.activeRow=-1,this.wpTableLoading=!1,this.wpTableKey++})},getInnerDomain(t){return Object.keys(t)[0]},getInnerDomainRows(t){return t[this.getInnerDomain(t)]},doProcessPagination(t){this.processPagination(t),this.activeRow=-1},doProcessSearch(t){this.processSearch(t),this.activeRow=-1}},beforeMount(){this.$route.query&&(this.$route.query.hostname&&(this.searchTerm=this.$route.query.hostname,this.processSearch(this.$route.query.hostname)),this.$route.query.fullReport&&(this.searchTerm="",this.processPagination(1)))}},ue={class:"aioseo-link-assistant-domains-report"},ce={class:"domain-name"},de=["onClick"],pe=["src"],me={class:"row-actions"},ge=["href"],he=["onClick"],ke=["onClick"];function fe(t,s,l,e,o,n){const g=_("svg-file"),y=_("svg-link-external"),v=_("svg-caret"),b=_("domains-report-inner"),w=_("core-wp-table"),k=_("link-assistant-confirmation-modal");return f(),U("div",ue,[(f(),A(w,{ref:"table","bulk-options":o.bulkOptions,columns:n.columns,id:e.tableId,"initial-items-per-page":e.settingsStore.settings.tablePagination.linkAssistantDomainsReport,"initial-page-number":e.pageNumber,"initial-search-term":e.searchTerm,key:e.wpTableKey,loading:e.wpTableLoading,rows:e.linkAssistantStore.domainsReport.rows,totals:e.linkAssistantStore.domainsReport.totals,"show-items-per-page":"",onPaginate:n.doProcessPagination,onProcessBulkAction:n.maybeDoBulkAction,onProcessChangeItemsPerPage:e.processChangeItemsPerPage,onSearch:n.doProcessSearch,onSortColumn:e.processSort},{domain:c(({row:u,index:T,editRow:C})=>[i("div",ce,[i("a",{href:"#",class:j({active:n.isRowActive(T)}),onClick:G(I=>{C(T),n.toggleRow(T)},["prevent"])},[i("img",{alt:"Domain Favicon",class:"favicon",src:`https://www.google.com/s2/favicons?sz=32&domain=${Object.keys(u)[0]}`},null,8,pe),i("span",null,p(Object.keys(u)[0]),1)],10,de)]),i("div",me,[i("span",null,[i("a",{class:"view",href:"https://"+Object.keys(u)[0],target:"_blank"},[i("span",null,p(o.strings.view),1)],8,ge),L(" | ")]),i("span",null,[i("a",{class:"delete-all-links",href:"#",onClick:G(I=>n.maybeDoBulkAction({action:"delete",selectedRows:T}),["prevent"])},[i("span",null,p(o.strings.deleteAllLinks),1)],8,he)])])]),posts:c(({row:u})=>[i("div",null,[m(g),i("span",null,p(o.numbers.numberFormat(n.postCount(u))),1)])]),links:c(({row:u})=>[i("div",null,[m(y),i("span",null,p(o.numbers.numberFormat(n.linkCount(u))),1)])]),"toggle-button":c(({index:u,editRow:T})=>[i("button",{class:j(["toggle-row-button",{active:n.isRowActive(u)}]),onClick:C=>{T(u),n.toggleRow(u)}},[m(v)],10,ke)]),"edit-row":c(({row:u})=>[(f(),A(b,{key:o.innerTableKey,domain:n.getInnerDomain(u),rows:n.getInnerDomainRows(u),activeDomain:o.activeRow,onUpdated:s[0]||(s[0]=T=>o.innerTableKey++)},null,8,["domain","rows","activeDomain"]))]),_:1},8,["bulk-options","columns","id","initial-items-per-page","initial-page-number","initial-search-term","loading","rows","totals","onPaginate","onProcessBulkAction","onProcessChangeItemsPerPage","onSearch","onSortColumn"])),m(k,{show:o.showModal,strings:o.modalStrings,selectedRows:o.selectedRows,onDoBulkAction:n.doBulkAction,onCloseModal:s[1]||(s[1]=u=>o.showModal=!1)},null,8,["show","strings","selectedRows","onDoBulkAction"])])}const be=Z(re,[["render",fe]]),Tt=(t={})=>{const{post:s,postIndex:l,processAdditionalFilters:e,requestType:o}=t,n=B(!1),g=H(()=>{let b=K().linksReport.prioritizedPosts;return Array.isArray(b)&&(b=b.map(Number)),b.includes(parseInt(s.ID))});return{doRefresh:()=>{var b;n.value=!0,window.aioseoBus.$emit("updatingLinks",!0),K().linksRefresh({postIndex:(l==null?void 0:l.value)||l,postId:((b=s==null?void 0:s.value)==null?void 0:b.ID)||s.ID,[o]:!0}).finally(()=>{var w;n.value=!1,window.aioseoBus.$emit("updatingLinks",!1),e({filters:{postIndex:(l==null?void 0:l.value)||l,postId:((w=s==null?void 0:s.value)==null?void 0:w.ID)||s.ID}})})},isPrioritizedPost:g,refreshLoading:n}},ve={class:"links-report-inner"},_e={__name:"LinksReportInner",props:{post:{type:Object,required:!0},postIndex:{type:Number,required:!0},postId:{type:Number,required:!0},initialActiveTab:String},setup(t){const s="aioseo-pro",l=K(),e=t,o=B("suggestions-inbound"),n=B("inbound-internal"),g=B(0),y={refresh:a("Refresh",s)},v=H(()=>[{slug:"inbound-internal",icon:at,name:D("%1$s %2$s",l.linksReport.counts[e.postIndex].inboundInternal,a("Inbound Internal",s))},{slug:"outbound-internal",icon:lt,name:D("%1$s %2$s",l.linksReport.counts[e.postIndex].outboundInternal,a("Outbound Internal",s))},{slug:"affiliate",icon:rt,name:D("%1$s %2$s",l.linksReport.counts[e.postIndex].affiliate,a("Affiliate",s))},{slug:"external",icon:$,name:D("%1$s %2$s",l.linksReport.counts[e.postIndex].external,a("External",s))},{slug:"link-suggestions",icon:ut,name:D("%1$s %2$s",l.linksReport.counts[e.postIndex].suggestionsOutbound+l.linksReport.counts[e.postIndex].suggestionsInbound,a("Link Suggestions",s))}]),b=h=>{window.aioseoBus.$emit("updatingLinks",!0);const r={...h,additionalFilters:{postId:e.post.ID,postIndex:e.postIndex}};return l.fetchLinksReportInner(r).finally(()=>{window.aioseoBus.$emit("updatingLinks",!1)})},{refreshTable:w,processAdditionalFilters:k}=J({fetchData:b}),u=(h,r)=>{n.value=h,r&&(o.value=r)},{doRefresh:T,isPrioritizedPost:C,refreshLoading:I}=Tt({post:e.post,postIndex:e.postIndex,refreshTable:w,requestType:"linksReport",processAdditionalFilters:k}),{filteredSuggestionsOutbound:d}=St();return ot(()=>{e.initialActiveTab&&yt(()=>{u(e.initialActiveTab)})}),(h,r)=>{const O=_("base-button");return f(),U("div",ve,[(f(),A(S(Pt),{class:"link-tabs",internal:"",key:g.value,tabs:v.value,active:n.value,onChanged:r[0]||(r[0]=P=>u(P))},{"var-tab-icon":c(({tab:P})=>[(f(),A(it(P.icon),{class:j([{warning:P.warning}])},null,8,["class"]))]),button:c(()=>[m(O,{class:"button-refresh",type:"gray",size:"medium",loading:S(I),disabled:S(C),onClick:S(T)},{default:c(()=>[m(S(At)),L(" "+p(y.refresh),1)]),_:1},8,["loading","disabled","onClick"])]),_:1},8,["tabs","active"])),n.value==="outbound-internal"?(f(),A(S(ft),{key:0,post:t.post,postIndex:t.postIndex,postId:t.postId,linksReport:"",onOpenSuggestions:r[1]||(r[1]=P=>u("link-suggestions","suggestions-outbound")),onLinksUpdated:r[2]||(r[2]=P=>g.value++)},null,8,["post","postIndex","postId"])):R("",!0),n.value==="inbound-internal"?(f(),A(S(bt),{key:1,post:t.post,postIndex:t.postIndex,postId:t.postId,linksReport:"",onOpenSuggestions:r[3]||(r[3]=P=>u("link-suggestions","suggestions-inbound")),onLinksUpdated:r[4]||(r[4]=P=>g.value++)},null,8,["post","postIndex","postId"])):R("",!0),n.value==="affiliate"?(f(),A(S(vt),{key:2,post:t.post,postIndex:t.postIndex,postId:t.postId,onLinksUpdated:r[5]||(r[5]=P=>g.value++),linksReport:""},null,8,["post","postIndex","postId"])):R("",!0),n.value==="external"?(f(),A(S(_t),{key:3,post:t.post,postIndex:t.postIndex,postId:t.postId,onLinksUpdated:r[6]||(r[6]=P=>g.value++),linksReport:""},null,8,["post","postIndex","postId"])):R("",!0),n.value==="link-suggestions"?(f(),A(S(wt),{key:4,post:t.post,postIndex:t.postIndex,postId:t.postId,filteredSuggestionsOutbound:S(d)(t.post),initialTab:o.value,linksReport:"",onShowStandalone:r[7]||(r[7]=P=>h.showStandalone=!0),onSuggestionsTabChanged:r[8]||(r[8]=P=>o.value=P),onLinksUpdated:r[9]||(r[9]=P=>g.value++)},null,8,["post","postIndex","postId","filteredSuggestionsOutbound","initialTab"])):R("",!0)])}}},N="aioseo-pro",we={setup(){const t=K(),s=mt(),l="aioseo-link-assistant-links-report-wp-table",e=B(null),o=B({}),n=({name:P,selectedValue:Y})=>{P==="post-type"&&(o.value["post-type"]=Y,o.value.term="all"),e.value=t.linksReport.additionalFilters.filter(z=>z.name==="post-type"||z.dependsOn&&o.value["post-type"]===z.dependsOn.value)},g=()=>{o.value.term="all",o.value["post-type"]="",n({name:"post-type",selectedValue:""})},{editPost:y,viewPost:v}=st(),{pageNumber:b,processAdditionalFilters:w,processChangeItemsPerPage:k,processFilterTable:u,processPagination:T,processSearch:C,processSort:I,refreshTable:d,searchTerm:h,wpTableKey:r,wpTableLoading:O}=J({changeItemsPerPageSlug:"linkAssistantLinksReport",fetchData:t.fetchLinksReport,resetSelectedFilters:g,selectedFilters:o,tableId:l});return{additionalFilters:e,dateSqlToLocal:ht,editPost:y,linkAssistantStore:t,pageNumber:b,processAdditionalFilterOptionSelected:n,processAdditionalFilters:w,processChangeItemsPerPage:k,processFilterTable:u,processPagination:T,processSearch:C,processSort:I,refreshTable:d,searchTerm:h,selectedFilters:o,settingsStore:s,tableId:l,viewPost:v,wpTableKey:r,wpTableLoading:O}},components:{CoreTooltip:kt,CoreWpTable:et,LinkAssistantConfirmationModal:nt,LinksReportInner:_e,SvgCaret:It,SvgLinkAffiliate:rt,SvgLinkExternal:$,SvgLinkInternalInbound:at,SvgLinkInternalOutbound:lt,SvgLinkSuggestion:ut},data(){return{numbers:gt,initialActiveTab:"inbound-internal",innerTableKey:0,activeRow:-1,showModal:!1,selectedRows:null,bulkAction:null,strings:{deleteAllLinks:a("Delete All Links",N),inboundInternal:D(a("%1$sInbound Internal Links%2$sLinks from other posts to this post",N),"<strong>","</strong><br />"),outboundInternal:D(a("%1$sOutbound Internal Links%2$sLinks from this post to other posts",N),"<strong>","</strong><br />")},modalStrings:{areYouSureSingle:a("Are you sure you want to delete all links for this post?",N),actionCannotBeUndone:a("This action cannot be undone.",N),yesSingle:a("Yes, I want to delete all links",N),noChangedMind:a("No, I changed my mind",N)}}},computed:{columns(){return[{slug:"post_title",label:a("Post Title",N),width:"100%"},{slug:"publish_date",label:a("Publish Date",N),width:"170px"},{slug:"internal",label:a("Internal",N),width:"150px"},{slug:"affiliate",label:a("Affiliate",N),width:"90px"},{slug:"external",label:a("External",N),width:"90px"},{slug:"suggestions",label:a("Suggestions",N),width:"110px"},{slug:"toggle-button",label:"",width:"60px"}]}},methods:{getPostId(t){return parseInt(t)},isRowActive(t){return t===this.activeRow},maybeEditRow(t,s,l,e){if(!l){this.initialActiveTab=t,s(e),this.toggleRow(e);return}if(this.initialActiveTab===t){s(e),this.toggleRow(e);return}this.initialActiveTab=t,this.innerTableKey++},toggleRow(t){if(this.activeRow===t){this.activeRow=-1;return}this.activeRow=t},maybeDeleteAllLinks(t){t!==!1&&(this.selectedRows=t,this.showModal=!0)},deleteAllLinks(){this.showModal=!1;const t=this.linkAssistantStore.linksReport.rows[this.selectedRows].ID;if(t)return this.wpTableLoading=!0,this.linkAssistantStore.linksReportDeleteAll({postId:t}).finally(()=>{this.activeRow=-1,this.wpTableKey++,this.refreshTable()})},doProcessPagination(t){this.processPagination(t),this.activeRow=-1},doProcessSearch(t){this.processSearch(t),this.activeRow=-1},doProcessFilterTable(t){this.processFilterTable(t),this.activeRow=-1},doProcessAdditionalFilters(t){this.processAdditionalFilters(t),this.activeRow=-1}},beforeMount(){this.additionalFilters=this.linkAssistantStore.linksReport.additionalFilters.filter(t=>t.name==="post-type"||t.dependsOn&&this.selectedFilters["post-type"]===t.dependsOn.value),this.$route.query&&(Object.entries(this.$route.query).forEach(t=>{switch(t[0]){case"fullReport":this.processFilterTable({slug:"all"});break;case"postTitle":this.searchTerm=this.$route.query.postTitle,this.processSearch(this.searchTerm);break;case"linkingOpportunities":this.processFilterTable({slug:"linking-opportunities"});break;case"orphaned-posts":this.processFilterTable({slug:"orphaned-posts"});break}}),this.linkAssistantStore.setLinksReportCounts())}},Se={class:"aioseo-link-assistant-links-report"},ye={class:"post-title"},Ie=["onClick"],Pe={key:0,class:"post-status-badge draft"},Ae={key:1,class:"post-status-badges"},Te={class:"post-status-badge future"},Re={class:"post-status-badge future"},xe={class:"row-actions"},Le=["href"],Ce=["href"],De=["onClick"],Me={key:0,class:"date"},Be={class:"internal-links-count"},Oe=["onClick"],Fe={class:"aioseo-tooltip-wrapper"},qe=["innerHTML"],Ne=["onClick"],Ve={class:"aioseo-tooltip-wrapper"},Ue=["innerHTML"],Ee=["onClick"],Ke=["onClick"],ze=["onClick"],He=["onClick"];function Ye(t,s,l,e,o,n){const g=_("svg-link-internal-inbound"),y=_("core-tooltip"),v=_("svg-link-internal-outbound"),b=_("svg-link-suggestion"),w=_("svg-link-affiliate"),k=_("svg-link-external"),u=_("svg-caret"),T=_("LinksReportInner"),C=_("core-wp-table"),I=_("link-assistant-confirmation-modal");return f(),U("div",Se,[(f(),A(C,{ref:"table",class:"posts-table",id:e.tableId,"additional-filters":e.additionalFilters,columns:n.columns,filters:e.linkAssistantStore.linksReport.filters,"initial-items-per-page":e.settingsStore.settings.tablePagination.linkAssistantLinksReport,"initial-page-number":e.pageNumber,"initial-search-term":e.searchTerm,key:e.wpTableKey,loading:e.wpTableLoading,rows:e.linkAssistantStore.linksReport.rows,"selected-filters":e.selectedFilters,"show-bulk-actions":!1,totals:e.linkAssistantStore.linksReport.totals,"show-items-per-page":"",onAdditionalFilterOptionSelected:e.processAdditionalFilterOptionSelected,onFilterTable:n.doProcessFilterTable,onPaginate:n.doProcessPagination,onProcessAdditionalFilters:n.doProcessAdditionalFilters,onProcessChangeItemsPerPage:e.processChangeItemsPerPage,onSearch:n.doProcessSearch,onSortColumn:e.processSort},{post_title:c(({row:d,index:h,editRow:r})=>{var O,P,Y,z,W,Q;return[i("div",ye,[i("a",{href:"#",class:j({active:n.isRowActive(h)}),onClick:G(tt=>{r(h),n.toggleRow(h)},["prevent"])},[i("span",null,p(d.context.postTitle),1),["draft","private","pending"].includes(d.post_status)?(f(),U("span",Pe,p((Y=(P=(O=d.context)==null?void 0:O.postStatus)==null?void 0:P.label)==null?void 0:Y.toUpperCase()),1)):R("",!0),d.post_status==="future"?(f(),U("span",Ae,[i("span",Te,p((Q=(W=(z=d.context)==null?void 0:z.postStatus)==null?void 0:W.label)==null?void 0:Q.toUpperCase()),1),i("span",Re,p(e.dateSqlToLocal(d.post_date,"MMMM d, yyyy").toUpperCase()),1)])):R("",!0)],10,Ie)]),i("div",xe,[i("span",null,[i("a",{class:"view",href:d.context.permalink,target:"_blank"},[i("span",null,p(e.viewPost(d.context.postType.singular)),1)],8,Le),L(" | ")]),i("span",null,[i("a",{class:"edit",href:d.context.editLink,target:"_blank"},[i("span",null,p(e.editPost(d.context.postType.singular)),1)],8,Ce),L(" | ")]),i("span",null,[i("a",{class:"delete-all-links",href:"#",onClick:G(tt=>n.maybeDeleteAllLinks(h),["prevent"])},[i("span",null,p(o.strings.deleteAllLinks),1)],8,De)])])]}),publish_date:c(({row:d})=>[d.post_status==="publish"?(f(),U("span",Me,p(e.dateSqlToLocal(d.post_date,"MMMM d, yyyy")),1)):R("",!0)]),internal:c(({editRow:d,index:h,editRowActive:r})=>[i("div",Be,[i("div",{onClick:O=>n.maybeEditRow("inbound-internal",d,r,h)},[i("div",Fe,[m(y,{class:"action"},{tooltip:c(()=>[i("span",{innerHTML:o.strings.inboundInternal},null,8,qe)]),default:c(()=>[m(g),i("span",null,p(o.numbers.numberFormat(e.linkAssistantStore.linksReport.counts[h].inboundInternal)),1)]),_:2},1024)])],8,Oe),i("div",{onClick:O=>n.maybeEditRow("outbound-internal",d,r,h)},[i("div",Ve,[m(y,{class:"action"},{tooltip:c(()=>[i("span",{innerHTML:o.strings.outboundInternal},null,8,Ue)]),default:c(()=>[m(v),i("span",null,p(o.numbers.numberFormat(e.linkAssistantStore.linksReport.counts[h].outboundInternal)),1)]),_:2},1024)])],8,Ne)])]),suggestions:c(({editRow:d,index:h,editRowActive:r})=>[i("div",{onClick:O=>n.maybeEditRow("link-suggestions",d,r,h)},[m(b),L(" "+p(o.numbers.numberFormat(e.linkAssistantStore.linksReport.counts[h].suggestionsInbound+e.linkAssistantStore.linksReport.counts[h].suggestionsOutbound)),1)],8,Ee)]),affiliate:c(({editRow:d,index:h,editRowActive:r})=>[i("div",{onClick:O=>n.maybeEditRow("affiliate",d,r,h)},[m(w),L(" "+p(o.numbers.numberFormat(e.linkAssistantStore.linksReport.counts[h].affiliate)),1)],8,Ke)]),external:c(({editRow:d,index:h,editRowActive:r})=>[i("div",{onClick:O=>n.maybeEditRow("external",d,r,h)},[m(k),L(" "+p(o.numbers.numberFormat(e.linkAssistantStore.linksReport.counts[h].external)),1)],8,ze)]),"toggle-button":c(({index:d,editRow:h})=>[i("button",{class:j(["toggle-row-button",{active:n.isRowActive(d)}]),onClick:r=>{h(d),n.toggleRow(d)}},[m(u)],10,He)]),"edit-row":c(({row:d,index:h})=>[(f(),A(T,{key:o.innerTableKey,post:d,postIndex:h,postId:n.getPostId(d.ID),initialActiveTab:o.initialActiveTab},null,8,["post","postIndex","postId","initialActiveTab"]))]),_:1},8,["id","additional-filters","columns","filters","initial-items-per-page","initial-page-number","initial-search-term","loading","rows","selected-filters","totals","onAdditionalFilterOptionSelected","onFilterTable","onPaginate","onProcessAdditionalFilters","onProcessChangeItemsPerPage","onSearch","onSortColumn"])),m(I,{show:o.showModal,selectedRows:o.selectedRows,strings:o.modalStrings,onDoBulkAction:n.deleteAllLinks,onCloseModal:s[0]||(s[0]=d=>o.showModal=!1)},null,8,["show","selectedRows","strings","onDoBulkAction"])])}const je=Z(we,[["render",Ye]]),Ge={class:"aioseo-link-assistant-post-report"},Je={key:0,class:"header-container"},We={class:"first-row"},Qe={class:"second-row"},Xe={class:"first-column"},Ze={class:"header"},$e={key:1,class:"load-progress"},ts={key:2,class:"header-container"},es={class:"first-row"},ss={class:"second-row"},ns={class:"first-column"},os={class:"header"},is={class:"actions"},as=["href"],ls=["href"],rs={class:"second-column"},us={__name:"PostReport",setup(t){const s="aioseo-pro",l=K(),e=B(null),o=B(0),n=B({}),g=B("inbound-internal"),y=B("suggestions-inbound"),v=B(4),b=B(!1),w=B(!1),k={backToLinksReport:a("Back to Links Report",s),loadingHeader:a("Loading Link Suggestions. Please wait...",s),refresh:a("Refresh",s)},u=H(()=>({...n.value,links:l.postReport})),T=H(()=>D(a('Internal Links & Suggestions for "%1$s"',s),n.value.context.postTitle)),C=H(()=>[{slug:"inbound-internal",icon:at,name:D("%1$s %2$s",n.value.links.inboundInternal.totals.total,a("Inbound Internal",s))},{slug:"outbound-internal",icon:lt,name:D("%1$s %2$s",n.value.links.outboundInternal.totals.total,a("Outbound Internal",s))},{slug:"affiliate",icon:rt,name:D("%1$s %2$s",n.value.links.affiliate.totals.total,a("Affiliate",s))},{slug:"external",icon:$,name:D("%1$s %2$s",n.value.links.external.totals.total,a("External",s))},{slug:"link-suggestions",icon:ut,name:D("%1$s %2$s",n.value.links.suggestionsOutbound.totals.total+n.value.links.suggestionsInbound.totals.total,a("Link Suggestions",s))}]),I=dt(),d=()=>{I.push({name:"links-report"})},h=(x,F)=>{g.value=x,F&&(y.value=F)},r=()=>{b.value=!1,w.value&&yt(()=>{b.value=!0,2>v.value&&(v.value=4),v.value=v.value/2,setTimeout(r,v.value*1e3)})},{filter:O,processFetchTableData:P,processAdditionalFilters:Y}=J({fetchData:l.fetchPostReport}),{editPost:z,viewPost:W}=st(),{doRefresh:Q,isPrioritizedPost:tt,refreshLoading:Rt}=Tt({post:n,postIndex:o,processAdditionalFilters:Y,requestType:"postReport"}),{filteredSuggestionsOutbound:xt}=St();return Ut(()=>{const x=pt();if(x.query){if(!x.query.postId){I.push({name:"links-report"});return}e.value=parseInt(x.query.postId),o.value=parseInt(x.query.postIndex),g.value=x.query.initialTab,y.value=x.query.initialSuggestionTab,n.value={ID:e.value,context:{postType:{singular:null}},links:{...l.postReport}}}}),ot(()=>{l.resetPostReportState(),window.aioseoBus.$emit("updatingLinks",!0),b.value=!0,w.value=!0,setTimeout(r,v.value*1e3),O.value="all",P({postId:e.value}).then(x=>{x.body.links&&(n.value.links=x.body.links),x.body.context&&(n.value.context=x.body.context),l.postReport={...x.body.links}}).catch(x=>{console.error(x),I.push({name:"links-report"})}).finally(()=>{window.aioseoBus.$emit("updatingLinks",!1),b.value=!1,w.value=!1})}),(x,F)=>{const Lt=_("base-button");return f(),U("div",Ge,[w.value?(f(),U("div",Je,[i("div",We,[i("a",{href:"#",onClick:G(d,["stop","prevent"])},[L(" ← "),i("span",null,p(k.backToLinksReport),1)])]),i("div",Qe,[i("div",Xe,[i("span",Ze,p(k.loadingHeader),1)])])])):R("",!0),b.value?(f(),U("div",$e,[i("div",{class:"load-progress-value",style:Et({animationDuration:v.value+"s"})},null,4)])):R("",!0),w.value?R("",!0):(f(),U("div",ts,[i("div",es,[i("a",{href:"#",onClick:G(d,["prevent"])},[L(" ← "),i("span",null,p(k.backToLinksReport),1)])]),i("div",ss,[i("div",ns,[i("span",os,p(T.value),1),i("div",is,[i("a",{class:"view-post-link",href:n.value.context.permalink,target:"_blank"},p(S(W)(n.value.context.postType.singular)),9,as),L(" | "),i("a",{class:"edit-post-link",href:n.value.context.editLink,target:"_blank"},p(S(z)(n.value.context.postType.singular)),9,ls)])]),i("div",rs,[m(Lt,{type:"blue",tag:"button",loading:S(Rt),disabled:S(tt),onClick:S(Q)},{default:c(()=>[m(S(At)),L(" "+p(k.refresh),1)]),_:1},8,["loading","disabled","onClick"])])])])),m(S(Pt),{class:"link-tabs",internal:"",tabs:C.value,active:g.value,showSaveButton:!1,onChanged:F[0]||(F[0]=E=>h(E))},{"var-tab-icon":c(({tab:E})=>[(f(),A(it(E.icon),{class:j([{warning:E.warning}])},null,8,["class"]))]),_:1},8,["tabs","active"]),g.value==="outbound-internal"?(f(),A(S(ft),{key:3,post:u.value,postIndex:o.value,postId:e.value,"post-report":"",onOpenSuggestions:F[1]||(F[1]=E=>h("link-suggestions","suggestions-outbound"))},null,8,["post","postIndex","postId"])):R("",!0),g.value==="inbound-internal"?(f(),A(S(bt),{key:4,post:u.value,postIndex:o.value,postId:e.value,"post-report":"",onOpenSuggestions:F[2]||(F[2]=E=>h("link-suggestions","suggestions-inbound"))},null,8,["post","postIndex","postId"])):R("",!0),g.value==="affiliate"?(f(),A(S(vt),{key:5,post:u.value,postIndex:o.value,postId:e.value,"post-report":""},null,8,["post","postIndex","postId"])):R("",!0),g.value==="external"?(f(),A(S(_t),{key:6,post:u.value,postIndex:o.value,postId:e.value,"post-report":""},null,8,["post","postIndex","postId"])):R("",!0),g.value==="link-suggestions"?(f(),A(S(wt),{key:7,post:u.value,postIndex:o.value,postId:e.value,filteredSuggestionsOutbound:S(xt)(n.value),initialTab:y.value,"post-report":"",onShowStandalone:F[3]||(F[3]=E=>x.showStandalone=!0),onSuggestionsTabChanged:F[4]||(F[4]=E=>y.value=E)},null,8,["post","postIndex","postId","filteredSuggestionsOutbound","initialTab"])):R("",!0)])}}},V="aioseo-pro",cs={setup(){const{getJsonValue:t,setJsonValue:s}=zt();return{GLOBAL_STRINGS:Kt,getJsonValue:t,linkAssistantStore:K(),links:Ct,setJsonValue:s}},components:{BaseCheckbox:Ht,BaseTextarea:Yt,CoreCard:jt,CoreExcludePosts:Gt,CorePostStatusOptions:Jt,CorePostTypeOptions:Wt,CoreSettingsRow:Qt},data(){return{initialAffiliateLinkPrefixes:"",strings:{settings:a("Link Settings",V),postTypes:a("Post Types",V),includeAllPostTypes:a("Include All Post Types",V),selectPostTypes:a("Select which Post Types you want to enable Link Assistant for.",V),postStatuses:a("Post Statuses",V),includeAllPostStatuses:a("Include All Post Statuses",V),selectPostStatuses:a("Select which Post Statuses you want to enable Link Assistant for.",V),skipSentences:a("Number of Sentences to Skip at Beginning",V),skipSentencesDescription:D(a("The amount of sentences at the beginning of the article that %1$s should not suggest internal links for.",V),"AIOSEO"),affiliatePrefix:a("Affiliate Link Prefix",V),affiliatePrefixDescription:D(a('Enter one or multiple link prefixes that %1$s should consider as affiliate links, e.g. "/go/", "/refer/" or "https://amazn.to".',V),"AIOSEO"),excludePostsPages:a("Exclude Posts / Pages",V),wordsToIgnore:a("Words to Ignore",V)}}},methods:{validateSkipSentences(t){0>t.target.value&&(t.target.value=0)}},beforeMount(){this.initialAffiliateLinkPrefixes=this.linkAssistantStore.options.main.affiliatePrefix,window.aioseoBus.$on("changes-saved",()=>{this.initialAffiliateLinkPrefixes=this.linkAssistantStore.options.main.affiliatePrefix})}},ds={class:"aioseo-link-assistant-settings"},ps={class:"aioseo-description"},ms=["innerHTML"],gs={class:"aioseo-description"},hs=["innerHTML"],ks={class:"aioseo-description"},fs={class:"aioseo-description"};function bs(t,s,l,e,o,n){const g=_("base-checkbox"),y=_("core-post-type-options"),v=_("core-settings-row"),b=_("core-post-status-options"),w=_("base-input"),k=_("base-select"),u=_("core-exclude-posts"),T=_("base-textarea"),C=_("core-card");return f(),U("div",ds,[m(C,{slug:"linkAssistantSettings","header-text":o.strings.settings},{default:c(()=>[m(v,{name:o.strings.postTypes},{content:c(()=>[m(g,{size:"medium",modelValue:e.linkAssistantStore.options.main.postTypes.all,"onUpdate:modelValue":s[0]||(s[0]=I=>e.linkAssistantStore.options.main.postTypes.all=I)},{default:c(()=>[L(p(o.strings.includeAllPostTypes),1)]),_:1},8,["modelValue"]),e.linkAssistantStore.options.main.postTypes.all?R("",!0):(f(),A(y,{key:0,id:"postTypes",options:e.linkAssistantStore.options.main,excluded:["attachment","web-story"],type:"postTypes"},null,8,["options"])),i("div",ps,[L(p(o.strings.selectPostTypes)+" ",1),i("span",{innerHTML:e.links.getDocLink(e.GLOBAL_STRINGS.learnMore,"linkAssistantPostTypes",!0)},null,8,ms)])]),_:1},8,["name"]),m(v,{name:o.strings.postStatuses},{content:c(()=>[m(g,{size:"medium",modelValue:e.linkAssistantStore.options.main.postStatuses.all,"onUpdate:modelValue":s[1]||(s[1]=I=>e.linkAssistantStore.options.main.postStatuses.all=I)},{default:c(()=>[L(p(o.strings.includeAllPostStatuses),1)]),_:1},8,["modelValue"]),e.linkAssistantStore.options.main.postStatuses.all?R("",!0):(f(),A(b,{key:0,id:"postStatuses",options:e.linkAssistantStore.options.main,type:"postStatuses"},null,8,["options"])),i("div",gs,[L(p(o.strings.selectPostStatuses)+" ",1),i("span",{innerHTML:e.links.getDocLink(e.GLOBAL_STRINGS.learnMore,"linkAssistantPostStatuses",!0)},null,8,hs)])]),_:1},8,["name"]),m(v,{name:o.strings.skipSentences,align:""},{content:c(()=>[m(w,{modelValue:e.linkAssistantStore.options.main.skipSentences,"onUpdate:modelValue":s[2]||(s[2]=I=>e.linkAssistantStore.options.main.skipSentences=I),class:"settings-skip-sentences",type:"number",size:"medium",min:0,onKeyup:s[3]||(s[3]=I=>n.validateSkipSentences(I))},null,8,["modelValue"]),i("div",ks,p(o.strings.skipSentencesDescription),1)]),_:1},8,["name"]),m(v,{class:"affiliate-prefix",name:o.strings.affiliatePrefix,align:""},{content:c(()=>[m(k,{multiple:"",taggable:"",options:e.getJsonValue(e.linkAssistantStore.options.main.affiliatePrefix)||[],modelValue:e.getJsonValue(e.linkAssistantStore.options.main.affiliatePrefix)||[],"onUpdate:modelValue":s[4]||(s[4]=I=>e.linkAssistantStore.options.main.affiliatePrefix=e.setJsonValue(I))},null,8,["options","modelValue"]),i("div",fs,p(o.strings.affiliatePrefixDescription),1)]),_:1},8,["name"]),m(v,{name:o.strings.excludePostsPages,align:""},{content:c(()=>[m(u,{options:e.linkAssistantStore.options.main,type:"posts"},null,8,["options"])]),_:1},8,["name"]),m(v,{name:o.strings.wordsToIgnore},{content:c(()=>[m(T,{minHeight:200,autosize:!1,modelValue:e.linkAssistantStore.options.main.wordsToIgnore,"onUpdate:modelValue":s[5]||(s[5]=I=>e.linkAssistantStore.options.main.wordsToIgnore=I)},null,8,["modelValue"])]),_:1},8,["name"])]),_:1},8,["header-text"])])}const vs=Z(cs,[["render",bs]]),_s={class:"aioseo-link-assistant"},Zn={__name:"Main",setup(t){const s="all-in-one-seo-pack",l=pt(),e=dt(),o=H(()=>l.name==="overview"?ct:l.name==="domains-report"?be:l.name==="links-report"?je:l.name==="post-report"?us:l.name==="settings"?vs:ct),{getExcludedActivationTabs:n}=Mt(),{getExcludedUpdateTabs:g}=Bt(),y={pageName:a("Link Assistant",s)},v=H(()=>{const k=(X.isActive("aioseo-link-assistant")?g(e,"aioseo-link-assistant"):n(e,"aioseo-link-assistant"))||[];return k.push("post-report"),k}),b=K(),w=Dt();return ot(()=>{window.aioseoBus.$on("changes-saved",()=>{b.getMenuData()}),w.isPro&&b.suggestionsScan.percent!==100&&X.isActive("aioseo-link-assistant")&&!X.requiresUpgrade("aioseo-link-assistant")&&X.hasMinimumVersion("aioseo-link-assistant")&&b.pollSuggestionsScan()}),(k,u)=>(f(),U("div",_s,[m(S(Ot),{"page-name":y.pageName,"exclude-tabs":v.value,showTabs:S(l).name!=="post-report"},{default:c(()=>[(f(),A(it(o.value)))]),_:1},8,["page-name","exclude-tabs","showTabs"])]))}};export{Zn as default};
